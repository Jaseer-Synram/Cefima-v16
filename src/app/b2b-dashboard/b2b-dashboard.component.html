<div class="loaderouter" id="loaderouterid">
  <div class="loader"></div>
</div>
<div class="loaderouter49" id="loaderouterid49">
  <div class="loader"></div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div *ngIf="ShowDiv" class="col-md-12" style="margin-bottom: 10px; height: 70vh">
          <!-- href="{{ href }}" -->
          <a target="_blank">
            <img id="showdivimg" style="
                width: 100%;
                height: 100%;
                object-fit: contain;
                display: none;
              " />
            <img id="showdivdoc" style="
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: none;
              " />
            <embed id="showdivpdf" type="application/pdf" style="
                display: none;
                width: 100%;
                height: 100%;
                object-fit: cover;
              " />
          </a>
        </div>
      </div>
      <div class="modal-footer"></div>
    </div>
  </div>
</div>
<button id="opentelephoneverification" data-toggle="modal" style="display: none"
  data-target="#exampleModalLongnewupdate">
  ddd
</button>
<div class="modal fade" id="exampleModalLongnewupdate" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLongTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div style="max-width: 80%" class="modal-dialog" role="document">
    <!-- z-index: 9999999; -->
    <div class="modal-content">
      <div class="modal-header">
        <p style="font-size: 28px;
            font-weight:500;
            border: none;background:
            transparent;opacity:1;
            text-align: left;">
          Aktualisierung Vermittlerdaten
        </p>
        <button type="button" class="close transitionanimation" data-dismiss="modal" aria-label="Close"
          (click)="resetphoneverification()" id="closeModaltelephoneverification">
          <!-- (click)="setKeyval('')" -->
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row" class="meine-daten-content-main" style="margin-top: 10px; margin-bottom: 15px"
            id="updateprofilestepper">
            <mat-horizontal-stepper linear #stepper  class="stepnewclass" style="width: 100%">
              <ng-template matStepperIcon="edit">
                <mat-icon>check</mat-icon>
              </ng-template>

              <mat-step [stepControl]="askquestion">
                <form [formGroup]="askquestion" #fsa1="ngForm" class="Official-residence-form">
                  <div class="container" id="askqueform" style="margin: 0px">
                    <ng-template matStepLabel>Hinweis</ng-template>
                    <div class="col-md-12">
                      <div style="text-align: center">
                        <p style="text-align: center">
                          <b><img src="./assets/exclamation.svg" height="90px" /> </b><br />
                        </p>
                        <p style="
                            text-align: center;
                            font-size: x-large;
                            color: dimgray;
                          ">
                          <b>Bitte beachten Sie den Hinweis.</b><br />
                        </p>
                        <p style="text-align: justify">
                          Sie können in den nächsten Schritten Ihre
                          Vermittlerdaten aktualisieren. Bitte beachten Sie, das
                          ihre Daten daraufhin erneut von einem CEFIMA
                          Mitarbeiter verifiziert werden und nach erfolgreicher
                          Prüfung Ihre Vermittlerverträge & Vereinbarungen
                          aktualisiert zur Signatur zur Verfügung gestellt
                          werden. Während des Verifizierungsprozesses sind
                          Auszahlungen durch CEFIMA pausiert.
                          <br /><br />
                          <img src="../../assets/icons/info-icon.svg" alt="">
                          Informationspflicht
                          <br />
                          Vermittler sind verpflichtet CEFIMA die Änderung ihrer
                          Daten unverzüglich mitzuteilen. <br />
                          <img src="../../assets/icons/info-icon.svg" alt="">
                          Prüfdauer
                          <br />
                          Im Regelfall sind Ihre Daten in zwei Werktagen
                          verifiziert.
                        </p>
                        <div style="
                            display: inline-flex !important;
                            width: 30%;
                            float: right;
                          ">
                          <mat-form-field appearance="outline" style="display: none">
                            <mat-label style="margin-left: 40px; display: none">
                              Telefonnummer</mat-label>
                            <input matInput name="formkey" formControlName="formkey" />
                          </mat-form-field>

                          <button class="button-primary  transitionanimation" mat-raised-button
                            style="background: grey !important; width: 50%" (click)="updateData('no')">
                            Abrechen
                          </button>
                          &nbsp;&nbsp;

                          <button class="button-primary  transitionanimation" mat-raised-button
                            style="color: #3085d6; width: 50%" (click)="updateData('yes')">
                            Verstanden&nbsp;
                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-12 d-flex justify-content-end ">
                      <button style="display: none" matStepperNext id="movetonextstep">
                        Weiter &nbsp;
                        <i class="fa fa-arrow-right" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </form>
              </mat-step>
              <mat-step [stepControl]="phoneFormGroup">
                <form [formGroup]="phoneFormGroup" #fsa="ngForm" #aForm class="Official-residence-form">
                  <ng-template matStepLabel>Aktualisierung starten</ng-template>
                  <div class="col-md-12 d-flex justify-content-around gap-2" id="updateform">
                    <div class="d-flex flex-row align-items-center justify-content-start">
                      <p  style="font-size: 16px;font-weight: 400;margin-top: 5px;">
                        Hallo
                        <span class="button-primary" style="padding: 1px 7px 1px 7px;border-radius: 5px;line-height: 3px !important;font-size: 15px;
                          "><span *ngIf="
                              localData.companytype != 'Einzelunternehmen' &&
                                localData.companytype !=
                                  'Eingetragener Kaufmann (e.K.)';
                              else nocomapny
                            ">{{ this.localData.companyname }}</span>
                          <ng-template #nocomapny>
                            <span>{{ this.localData.firstname }}
                              {{ this.localData.lastname }}</span> </ng-template><i *ngIf="otpSuccess"
                            style="color: darkgreen; margin-left: 5px" class="fa fa-check-circle">
                          </i> </span>, um die Aktualisierung Ihrer Vermittlerdaten zu
                        starten, müssen Sie ihre Telefonnummer bestätigen.
                        Fordern Sie dazu einen Bestätigungscode an.
                      </p>
                    </div>
                  </div>

                  <div class="col-md-8 d-flex justify-content-start gap-2 ">
                    <div class="col-4 p-0 " >
                      <mat-form-field  appearance="outline" style="width: 96%">
                        <mat-label style="margin-left: 40px">Telefonnummer</mat-label>
                        <input matInput id="phoneupdate" ngModel [maxlength]="20" name="phone_number"
                          formControlName="phone_number" readonly class="test" placeholder="Telefonnummer eingeben"
                          type="tel" value="+49" oninput="this.value=this.value.replace(/[^0-9/+]/g,'')" />
                      </mat-form-field>
                    </div>
                    <div class="col-4 p-0" >
                      <mat-form-field appearance="outline" class="pass" id="rocker" style="width: 96%">
                        <mat-label>Verifizierungscode eingeben</mat-label>
                        <input matInput type="text" autofocus ngModel name="otp" id="focusfield" formControlName="otp"
                          placeholder="Verifizierungscode eingeben" style="height: 40px !important" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div *ngIf="otpSuccess" class="d-flex flex-column align-items-start gap-2">
                      <div class="otpSuc" role="alert" style="margin-bottom: 25px">
                        <p class="alert alert-success" style="
                            text-align-last: center;
                            margin: 0px;
                            width: 415px;
                            margin: auto;
                          ">
                          Telefonnummer erfolgreich verifiziert
                        </p>
                      </div>
                  </div>
                  <div *ngIf="otpError" class="d-flex flex-column align-items-start gap-2">
                      <div class="otpEr" role="alert" style="margin-bottom: 25px">
                        <p class="alert alert-danger" style="
                            text-align-last: center;
                            margin: 0px;
                            margin: auto;
                          ">
                          Ungültiger Bestätigungscode
                        </p>
                      </div>
                  </div>

                    <div class=" p-0 " >
                      <button  id="verifybutton" type="submit"
                      mat-raised-button color="button-primary" (click)="verify()" *ngIf="!otp">
                      Code anfordern
                    </button>
                    <button type="submit" mat-raised-button
                      color="button-primary" (click)="verifyOtp()" *ngIf="otp && !otpSuccess">
                      Überprüfen Sie den Bestätigungscode
                    </button>
                  </div>
                  <div class="col-md-12 p-0 justify-content-end  ">
                    <button class="button-primary  transitionanimation" mat-button matStepperPrevious
                      id="previousbutton" style="margin-right: 10px; display: none">
                      <i class="fa fa-arrow-left" aria-hidden="true"></i> &nbsp;
                      Zurück
                    </button>
                    <button class="button-primary  transitionanimation" mat-raised-button (click)="goToRegistration()"
                      id="nextstep" [disabled]="!otpSuccess">
                      Aktualisierung starten&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                    </button>
                  </div>
                </form>
              </mat-step>
            </mat-horizontal-stepper>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<button id="collapsetype1modalbtn" type="button" data-toggle="modal" style="display: none"
  data-target="#collapsetype1modal">
  ddd
</button>

<div id="collapsetype1modalparent">
  <div class="modal fade" id="collapsetype1modal" tabindex="-1" role="dialog" aria-labelledby="collapsetype1modaltitle"
    aria-hidden="true">
    <div style="max-width: 80%" class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <p style="
          text-align: left;
          margin-bottom: 0px;
          margin-right: 15x;
          font-size: 21px;
          font-weight: 600;
        ">
            Vertretungsberechtigte Persondetails:
          </p>
          <button type="button" style="border: none;width: 30px;background: transparent;padding:0;"
            (click)="close_modal('collapsetype1modal','collapsetype1modalparent')" data-dismiss="modal"
            aria-label="Close">
            <img width="70%" src="../../assets/icons/closs-customer-modal-red.svg" alt="">
          </button>
        </div>
        <div class="modal-body">
          <div class="container p-0">
            <div class="card-body px-0 py-3">
              <mat-tab-group class="thirddashmodal " mat-stretch-tabs="false">
                <mat-tab label="Persönliche Daten">
                  <form class="mt-3" *ngIf="brokerformtype1" [formGroup]="brokerformtype1" #f="ngForm" novalidate="">
                    <div class="form-body">
                      <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:500">
                        <span>Persönliche Daten</span>

                      </div>
                      <div class="col-md-12 d-flex flex-wrap p-0">
                        <div class="p-0 col-md-4 ">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Anrede
                            </mat-label>
                            <mat-select matNativeControl formControlName="title" style="
                          font-size: 12px;
                                                      " [disabled]="true">
                              <mat-option value="Herr">
                                Herr
                              </mat-option>
                              <mat-option value="Frau">
                                Frau
                              </mat-option>
                              <mat-option value="Firma">
                                Firma
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 text-center">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Vorname
                            </mat-label>
                            <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 p-0 text-right">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Nachname
                            </mat-label>
                            <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 p-0">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Geburtsdatum
                            </mat-label>
                            <input matInput readonly [matDatepicker]="
                          picker
                                                      " [min]="minDate" [max]="maxDate" placeholder="Geburtsdatum"
                              formControlName="dob" />
                            <mat-datepicker-toggle matSuffix [for]="picker">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker format="dd\MM\yyyy">
                            </mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="col-md-12 px-2 rounded py-2 mb-3 mt-2 graybox ">
                          <span style="font-weight:500">
                            Wohnsitz
                          </span>

                        </div>
                        <div class="col-md-12 d-flex flex-wrap p-0">
                          <div class="p-0 col-md-4 p-0">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Straße
                              </mat-label>
                              <input matInput readonly placeholder="Straße" formControlName="street" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0 text-center">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Nr.
                              </mat-label>
                              <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0 text-right">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                PLZ
                              </mat-label>
                              <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="col-md-12 d-flex flex-wrap p-0">
                          <div class="p-0 col-md-4 p-0">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Stadt
                              </mat-label>
                              <input matInput readonly placeholder="Stadt" formControlName="city" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0 text-center">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                C/O
                                Appartmentnummer,
                                Türcode, usw.
                              </mat-label>
                              <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                formControlName="additionalReference" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0 text-right">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Land des
                                Wohnsitzes
                              </mat-label>
                              <input matInput readonly placeholder="Land des Wohnsitzes"
                                formControlName="countryOfResidence" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </mat-tab>
                <mat-tab label="Dokument">
                  <div *ngIf="showceodoc">
                    <!-- <h5 class="form-section-title   pb-3 my-3 d-flex">
                      <mat-icon class="mr-2">account_circle</mat-icon>
                      Dokument
                    </h5> -->
                    <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:500">
                      <span>Dokument</span>

                    </div>
                    <div
                      class="customer-managment-content-main   d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
                      style="
                              margin-top: 0px;
                              padding: 0px;
                              margin-bottom: 20px;
                            ">
                      <div class="container-fluid" style="padding: 0px">
                        <div class="row" style="
                                  padding: 0px;
                                  width: 100%;
                                  margin: 0;
                                  margin-top: 10px;
                                ">
                          <div class="marginbox" id="imagediv" style="padding: 0px">
                            <div class="accordion-main" id="accordion">
                              <div class="accordion-head">
                                <ul
                                  class="accordion-head-list list-unstyled  mx-2 my-1  d-flex justify-content-between align-items-center">
                                  <li class="TAB1 font-weight-bold">#</li>
                                  <li class="TAB2 font-weight-bold">
                                    Dokumentenname
                                    <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="element.document_name"></i> -->
                                  </li>
                                  <li class="TAB3 font-weight-bold">
                                    Dateityp
                                    <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="tags"></i> -->
                                  </li>
                                  <li class="TAB4 font-weight-bold">
                                    Dateigröße
                                    <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="tags"></i> -->
                                  </li>

                                  <li class="TAB5 font-weight-bold">
                                    Datum des Uploads
                                    <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="Start_of_contract"></i> -->
                                  </li>

                                  <li class="TAB6 font-weight-bold">
                                    Interaktionen
                                  </li>
                                </ul>
                              </div>

                              <div class="accordion-list-main mt-3">
                                <!-- <div class="accordion-list-item" *ngFor="let cl of ceoDocList; let i = index"> -->
                                <div class="accordion-list-item" *ngFor="
                                          let cl of ceoDocListunique;
                                          let i = index
                                        ">
                                  <ul
                                    [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                                    style="border-radius: 10px 10px;"
                                    class="accordion-list-data list-unstyled mx-2  py-2 my-0  d-flex justify-content-between align-items-center"
                                    id="ul{{ cl?.element?.id }}">
                                    <li class="TAB1">
                                      {{ startRecordGDOC + i }}
                                    </li>
                                    <li class="TAB2" *ngIf="
                                              cl?.element?.document_name.includes(
                                                '(Abgelaufen)'
                                              );
                                              else verifieddoc3
                                            ">
                                      {{
                                      cl?.element?.document_name.replace(
                                      "(Abgelaufen)",
                                      ""
                                      )
                                      }}
                                      <span Style="color: red">
                                        (Abgelaufen)
                                      </span>
                                    </li>
                                    <ng-template #verifieddoc3>
                                      <li class="TAB2">
                                        {{ cl.element.ceo_doc_name
                                        }}
                                        <span Style="color: green" *ngIf="
                                                  checkforverified(
                                                    cl.element.document_name
                                                  ) != undefined;
                                                  else unverified
                                                ">
                                          (Verifiziert)
                                        </span>
                                      </li>
                                    </ng-template>

                                    <ng-template #unverified>
                                      <span Style="color: orange">
                                        (In Prüfung)
                                      </span>
                                    </ng-template>

                                    <!-- <li class="TAB2">
                                            {{ cl.element.document_name }}
                                          </li> -->

                                    <li class="TAB3">
                                      {{ cl.filetype }}
                                    </li>
                                    <li class="TAB4">{{ cl.size }}</li>

                                    <li class="TAB5">
                                      {{ cl.date_of_upload }}
                                    </li>

                                    <li class="TAB6 mb-2">
                                      <button type="button"
                                        class="openclass offenclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                                        (click)="
                                                previewshare(
                                                  cl.element.document_url,
                                                  cl.element.tags,
                                                  cl.element.document_unique_id,
                                                  cl.element.companycode,
                                                  cl.element.brand,
                                                  cl.element.ceo_doc_name,
                                                  cl.element.createdAt,
                                                  cl.element.id,
                                                  cl.element.created_byname,
                                                  cl.element.ticket_no,
                                                  i
                                                )
                                              " id="clickshare{{ cl.element.id }}">
                                        Öffnen
                                      </button>
                                    </li>
                                  </ul>
                                  <div class="col-md-12">
                                    <div id="preview{{ cl.element.id }}" class="previewclass"></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
              </mat-tab-group>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<button id="collapsetype2modalbtn" type="button" data-toggle="modal" style="display: none"
  data-target="#collapsetype2modal">
  ddd
</button>

<div id="collapsetype2modalparent">
  <div class="modal fade" id="collapsetype2modal" tabindex="-1" role="dialog" aria-labelledby="collapsetype2modaltitle"
    aria-hidden="true">
    <div style="max-width: 80%" class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <p style="
          text-align: left;
          margin-bottom: 0px;
          margin-right: 15x;
          font-size: 21px;
          font-weight: 600;
        ">
            Bevollmächtigte/Prokuristen:
          </p>
          <button type="button" style="border: none;width: 30px;background: transparent;padding:0;"
            (click)="close_modal('collapsetype2modal','collapsetype2modalparent')" data-dismiss="modal"
            aria-label="Close">
            <img width="70%" src="../../assets/icons/closs-customer-modal-red.svg" alt="">
          </button>
        </div>
        <div class="modal-body">
          <div class="container p-0">
            <div class="card-body px-0 py-3">
              <mat-tab-group class="thirddashmodal " mat-stretch-tabs="false">
                <mat-tab label="Persönliche Daten">
                  <form class="mt-3" *ngIf="brokerformtype2" [formGroup]="brokerformtype2" #f="ngForm" novalidate="">
                    <div class="form-body">
                      <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:600">
                        Persönliche Daten
                      </div>
                      <div class="col-12 d-flex flex-raw flex-wrap p-0">
                        <div class="p-0 col-md-4">
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>
                              Anrede
                            </mat-label>
                            <mat-select matNativeControl formControlName="title" style="
                        font-size: 12px;
                                                    " [disabled]="true">
                              <mat-option value="Herr">
                                Herr
                              </mat-option>
                              <mat-option value="Frau">
                                Frau
                              </mat-option>
                              <mat-option value="Firma">
                                Firma
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 text-center">
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>
                              Vorname
                            </mat-label>
                            <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 text-right">
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>
                              Nachname
                            </mat-label>
                            <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4">
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>
                              Geburtsdatum
                            </mat-label>
                            <input matInput readonly [matDatepicker]="
                        picker1
                                                    " [min]="minDate" [max]="maxDate" placeholder="Geburtsdatum"
                              formControlName="dob" />
                            <mat-datepicker-toggle matSuffix [for]="picker1">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker1 format="dd\MM\yyyy">
                            </mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:600">
                          Wohnsitz
                        </div>
                        <div class="col-12 d-flex flex-raw flex-wrap p-0">
                          <div class="p-0 col-md-4">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>
                                Straße
                              </mat-label>
                              <input matInput readonly placeholder="Straße" formControlName="street" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 text-center">
                            <mat-form-field appearance="outline" style="width:96%">
                              <mat-label>
                                Nr.
                              </mat-label>
                              <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 text-right">
                            <mat-form-field appearance="outline" style="width:96%">
                              <mat-label>
                                PLZ
                              </mat-label>
                              <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="col-12 d-flex flex-raw flex-wrap p-0">
                          <div class="p-0 col-md-4">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>
                                Stadt
                              </mat-label>
                              <input matInput readonly placeholder="Stadt" formControlName="city" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>
                                C/O
                                Appartmentnummer,
                                Türcode, usw.
                              </mat-label>
                              <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                formControlName="additionalReference" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>
                                Land des
                                Wohnsitzes
                              </mat-label>
                              <input matInput readonly placeholder="Land des Wohnsitzes"
                                formControlName="countryOfResidence" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </mat-tab>
                <mat-tab label="Dokument">

                </mat-tab>
              </mat-tab-group>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<button id="collapsetype3modalbtn" type="button" data-toggle="modal" style="display: none"
  data-target="#collapsetype3modal">
  ddd
</button>

<div id="collapsetype3modalparent">
  <div class="modal fade" id="collapsetype3modal" tabindex="-1" role="dialog" aria-labelledby="collapsetype3modaltitle"
    aria-hidden="true">
    <div style="max-width: 80%" class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <p style="
        text-align: left;
          margin-bottom: 0px;
          margin-right: 15x;
          font-size: 21px;
          font-weight: 600;">
            Wirtschaftlicher Eigentümer:
          </p>
          <button type="button" style="border: none;width: 30px;background: transparent;padding:0;"
            (click)="close_modal('collapsetype3modal','collapsetype3modalparent')" data-dismiss="modal"
            aria-label="Close">
            <img width="70%" src="../../assets/icons/closs-customer-modal-red.svg" alt="">
          </button>
        </div>
        <div class="modal-body">
          <div class="container p-0">
            <div class="card-body px-0 py-3">

              <mat-tab-group class="thirddashmodal " mat-stretch-tabs="false">
                <mat-tab label="Persönliche Daten">
                  <form class="mt-3" *ngIf="brokerformtype3" [formGroup]="brokerformtype3" #f="ngForm" novalidate="">
                    <div class="form-body">
                      <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:600">
                        <span>Persönliche Daten</span>

                      </div>
                      <div class="col-md-12 d-flex flex-wrap p-0">
                        <div class="p-0 col-md-4 p-0">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Anrede
                            </mat-label>
                            <mat-select matNativeControl formControlName="title" style="
                    font-size: 12px;
                  " [disabled]="true">
                              <mat-option value="Herr">
                                Herr
                              </mat-option>
                              <mat-option value="Frau">
                                Frau
                              </mat-option>
                              <mat-option value="Firma">
                                Firma
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 p-0  text-center">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Vorname
                            </mat-label>
                            <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 p-0  text-right">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Nachname
                            </mat-label>
                            <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                          </mat-form-field>
                        </div>
                        <div class="p-0 col-md-4 p-0">
                          <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                            <mat-label>
                              Geburtsdatum
                            </mat-label>
                            <input matInput readonly [matDatepicker]="
                    picker
                  " [min]="minDate" [max]="maxDate" placeholder="Geburtsdatum" formControlName="dob" />
                            <mat-datepicker-toggle matSuffix [for]="picker">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker format="dd\MM\yyyy">
                            </mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:600">
                          <span style="font-weight:600">
                            Wohnsitz
                          </span>
                        </div>
                        <div class="col-md-12 d-flex flex-wrap p-0">
                          <div class="p-0 col-md-4 p-0">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Straße
                              </mat-label>
                              <input matInput readonly placeholder="Straße" formControlName="street" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0  text-center">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Nr.
                              </mat-label>
                              <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0  text-right">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                PLZ
                              </mat-label>
                              <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="col-md-12 d-flex flex-wrap p-0">
                          <div class="p-0 col-md-4 p-0">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Stadt
                              </mat-label>
                              <input matInput readonly placeholder="Stadt" formControlName="city" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0  text-center">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                C/O
                                Appartmentnummer,
                                Türcode, usw.
                              </mat-label>
                              <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                formControlName="additionalReference" />
                            </mat-form-field>
                          </div>
                          <div class="p-0 col-md-4 p-0  text-right">
                            <mat-form-field class="p-0" appearance="outline" style="width: 96%">
                              <mat-label>
                                Land des
                                Wohnsitzes
                              </mat-label>
                              <input matInput readonly placeholder="Land des Wohnsitzes"
                                formControlName="countryOfResidence" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </mat-tab>
                <mat-tab label="Dokument">
                  <div class="mt-3">
                    <div class="col-md-12 px-2 rounded py-2 mb-3 graybox" style="font-weight:500">
                      <span>Dokument</span>

                    </div>
                    <div
                      class="customer-managment-content-main   d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
                      style="
                          margin-top: 0px;
                          padding: 0px;
                          margin-bottom: 20px;
                        ">
                      <div class="container-fluid" style="padding: 0px">
                        <div class="row" style="
                              padding: 0px;
                              width: 100%;
                              margin: 0;
                              margin-top: 10px;
                            ">
                          <div class="marginbox" id="imagediv" style="padding: 0px">
                            <div class="accordion-main" id="accordion">
                              <div class="accordion-head">
                                <ul
                                  class="accordion-head-list list-unstyled  mx-2 my-1  d-flex justify-content-between align-items-center">
                                  <li class="TAB1 font-weight-bold">#</li>
                                  <li class="TAB2 font-weight-bold">
                                    Dokumentenname
                                  </li>
                                  <li class="TAB3 font-weight-bold">
                                    Dateityp
                                  </li>
                                  <li class="TAB4 font-weight-bold">
                                    Dateigröße
                                  </li>

                                  <li class="TAB5 font-weight-bold">
                                    Datum des Uploads
                                  </li>

                                  <li class="TAB6 font-weight-bold">
                                    Interaktionen
                                  </li>
                                </ul>
                              </div>

                              <div class="accordion-list-main mt-3">
                                <div class="accordion-list-item" *ngFor="
                                      let cl of shareholdersDocList[
                                        shareholdersindex
                                      ];
                                      let i = index
                                    ">
                                  <ul
                                    [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                                    style="border-radius: 10px 10px;"
                                    class="accordion-list-data list-unstyled mx-2  py-2 my-0  d-flex justify-content-between align-items-center"
                                    id="ul{{ cl?.element?.id }}">
                                    <li class="TAB1">
                                      {{ startRecordGDOC + i }}
                                    </li>
                                    <li class="TAB2" *ngIf="
                                          cl.element.document_name.includes(
                                            '(Abgelaufen)'
                                          );
                                          else verifieddoc4
                                        ">
                                      {{
                                      cl.element.document_name.replace(
                                      "(Abgelaufen)",
                                      ""
                                      )
                                      }}
                                      <span Style="color: red">
                                        (Abgelaufen)
                                      </span>
                                    </li>
                                    <ng-template #verifieddoc4>
                                      <li class="TAB2">
                                        {{ cl.element.document_name
                                        }}
                                        <span Style="color: green" *ngIf="
                                              checkforverified(
                                                cl.element.document_name
                                              ) != undefined;
                                              else unverified
                                            ">
                                          (Verifiziert)
                                        </span>
                                      </li>
                                    </ng-template>

                                    <ng-template #unverified>
                                      <span Style="color: orange">
                                        (In Prüfung)
                                      </span>
                                    </ng-template>
                                    <!--
                                      <li class="TAB2">
                                        {{ cl.element.document_name }}
                                      </li> -->

                                    <li class="TAB3">
                                      {{ cl.filetype }}
                                    </li>
                                    <li class="TAB4">{{ cl.size }}</li>

                                    <li class="TAB5">
                                      {{ cl.date_of_upload }}
                                    </li>

                                    <li class="TAB6 mb-2">
                                      <button type="button"
                                        class="openclass offenclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                                        (click)="
                                            previewshare(
                                              cl.element.document_url,
                                              cl.element.tags,
                                              cl.element.document_unique_id,
                                              cl.element.companycode,
                                              cl.element.brand,
                                              cl.element.document_name,
                                              cl.element.createdAt,
                                              cl.element.id,
                                              cl.element.created_byname,
                                              cl.element.ticket_no,
                                              i
                                            )
                                          " id="clickshare{{ cl.element.id }}">
                                        Öffnen
                                      </button>
                                    </li>
                                  </ul>
                                  <div class="col-md-12">
                                    <div id="preview{{ cl.element.id }}" class="previewclass"></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
              </mat-tab-group>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




<div class=" col-12 px-0" style="overflow: hidden">
  <div class="container-fluid table-section " style="padding: 0px">
    <div class="d-flex flex-row flex-wrap" style="width: 100%; margin: 0px; padding: 0px">
      <div class="col-md-12 p-0">

        <div [hidden]="hideValues.Unternehmensdaten" class="table-min-height col-md-12 p-3">

          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1 "
            style="margin-top: 0px">
            <div class="col-12 p-0">
              <div class="d-flex flex-row flex-wrap" style="padding: 0px; width: 100%; margin: 0">
                <div class="card-body accordion-list-main  newclass px-0 py-2">
                  <form [formGroup]="companydataform" #f="ngForm" novalidate="">
                    <div class="form-body">
                      <div role="button" class="Persönliche-Informationen mb-3 mt-2" (click)="
                                    opened_tab.personal_data =
                                      !opened_tab.personal_data
                                  ">
                        <h2>Unternehmensdaten</h2>
                        <p>
                          <img src="assets/dwon.png" class="opened-arrow" *ngIf="opened_tab.personal_data" />
                          <img src="assets/dwon.png" class="closed-arrow" *ngIf="!opened_tab.personal_data" />
                        </p>
                      </div>
                      <div [ngClass]="
                                    opened_tab.personal_data ? 'col-md-12 p-0 ' : 'd-none'
                                  ">

                        <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                          <div class="col-md-4 p-0 ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Firmenname</mat-label>
                              <input matInput readonly formControlName="companyname" placeholder="Firmenname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Unternehmensdaten4
                              </mat-label>
                              <input matInput readonly formControlName="companytype" placeholder="Unternehmensdaten" />
                            </mat-form-field>
                          </div>

                          <div class="col-md-4 p-0 text-right" style="position:relative">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>E-Mail</mat-label>
                              <input style="width:90%" matInput readonly formControlName="email" placeholder="E-Mail" />
                            </mat-form-field>
                            <img style="position: absolute;
                            right: 2%;
                            top: 20%; " src="./assets/email_120x120.png" class="editEmailVLogo1"
                              *ngIf="localData.email_verify" />
                          </div>
                          <div class="col-md-4 p-0  ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Benutzer Nr.</mat-label>
                              <input matInput readonly formControlName="customerno" placeholder="Benutzer Nr." />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Telefonnummer</mat-label>
                              <input matInput readonly id="Telefonnummer" formControlName="phoneno"
                                placeholder="Telefonnummer" />
                            </mat-form-field>
                            <img src="./assets/phone_verified_120x120.png" class="editPhoneVLogo1"
                              *ngIf="localData.mobile_verify" />
                          </div>
                        </div>
                        <div class="Persönliche-Informationen mb-3 mt-2">
                          <h2>
                            Gesetzlicher Vertreter:
                          </h2>
                        </div>
                        <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                          <div class="col-md-4 p-0  ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Anrede</mat-label>
                              <mat-select matNativeControl formControlName="title" style="font-size: 12px; height: 23px"
                                readonly>
                                <mat-option value="Herr">Herr
                                </mat-option>
                                <mat-option value="Frau">Frau
                                </mat-option>
                                <mat-option value="Firma">Firma
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Vorname</mat-label>
                              <input matInput formControlName="firstName" placeholder="Vorname" readonly />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Nachname</mat-label>
                              <input matInput formControlName="lastName" placeholder="Nachname" readonly />
                            </mat-form-field>
                          </div>
                        </div>
                        <div role="button" class="Persönliche-Informationen mb-3 mt-2">
                          <h2>
                            Aufsichtsbehörde:
                          </h2>
                        </div>
                        <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                          <div class="col-md-4 p-0 ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Vermittlerstatus</mat-label>
                              <input matInput formControlName="vermittlerstatus" readonly
                                placeholder="Vermittlerstatus" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Zuständige IHK</mat-label>
                              <input matInput readonly formControlName="ihk" placeholder="Zuständige IHK" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>
                                Versicherungsvermittlerregister Nr.
                              </mat-label>
                              <input matInput readonly formControlName="registrationsnummer"
                                placeholder="Versicherungsvermittlerregister Nr." />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                      <div role="button" class="Persönliche-Informationen mb-3" (click)="
                                    opened_tab.official_residence =
                                      !opened_tab.official_residence
                                  ">
                        <h2>Firmensitz</h2>
                        <p>
                          <img src="assets/dwon.png" class="opened-arrow" *ngIf="opened_tab.official_residence" />
                          <img src="assets/dwon.png" class="closed-arrow" *ngIf="!opened_tab.official_residence" />
                        </p>
                      </div>

                      <div [ngClass]="
                                    opened_tab.official_residence
                                      ? ' col-md-12 p-0 '
                                      : 'd-none'
                                  ">
                        <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                          <div class="col-md-4 p-0 ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Straße</mat-label>
                              <input matInput readonly placeholder="Straße" formControlName="street" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Nr.</mat-label>
                              <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>PLZ</mat-label>
                              <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                          <div class="col-md-4 p-0 ">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Stadt</mat-label>
                              <input matInput readonly placeholder="Stadt" formControlName="city" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>C/O Appartmentnummer,
                                Türcode, usw.
                              </mat-label>
                              <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                formControlName="additionalReference" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Land des Wohnsitzes
                              </mat-label>
                              <input matInput readonly placeholder="Land des Wohnsitzes"
                                formControlName="countryOfResidence" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>

                      <div class="mt-3 col-12 d-flex p-0 justify-content-between align-items-center ">
                        <div class="col-6 d-flex justify-content-start p-0">
                          <h5 class="form-section-title d-flex justify-content-end graybox p-2 rounded-3">
                            <div class="text-left">
                              <div *ngIf=" localData.hasOwnProperty(
                                              'companydata'
                                            ) &&
                                            checkkey(
                                              localData.companydata,
                                              'licensesign'
                                            ) != undefined &&
                                            checkkey(
                                              localData.companydata,
                                              'Geschäftsanmeldung'
                                            ) != undefined &&
                                            checkkey(
                                              localData.companydata,
                                              'Datenstammblatt mit Einwilligungserklärung'
                                            ) != undefined &&
                                            localData.hasOwnProperty(
                                              'companydatacheckup'
                                            ) &&
                                            localData.companydatacheckup
                                              .length > 0 &&
                                            localData.hasOwnProperty(
                                              'companydatacheckup'
                                            ) &&
                                            checkkey(
                                              localData.companydatacheckup,
                                              financialcheckdata[
                                                financialcheckdata.length - 1
                                              ]?.element?.document_name
                                            ) != undefined &&
                                            checkkey(
                                              localData.companydatacheckup,
                                              financialcheckdata[
                                                financialcheckdata.length - 1
                                              ]?.element?.document_name
                                            ).ans == 'yes' &&
                                            localData.hasOwnProperty(
                                              'vermittlerstatusforbrokermanager'
                                            ) &&
                                            checkkey(
                                              localData.vermittlerstatusforbrokermanager,
                                              'lastquestion'
                                            ) != undefined &&
                                            checkkey(
                                              localData.vermittlerstatusforbrokermanager,
                                              'lastquestion'
                                            ).ans == 'no'
                                          ">
                                <div class="showcorner animate__animated animate__zoomIn animate__delay-1s">
                                  <i style="color: #3CBB6F" class="fa fa-check-circle">
                                  </i><span style="font-size: 17px;color:#3A3D44">
                                    Verifiziert </span><br />
                                  <h6 style="   margin-bottom:0px;
                                                color: #3D3C3C;
                                                text-transform: uppercase;
                                                letter-spacing: 1px;
                                                font-size: 11px;
                                              ">
                                    VON CEFIMA AM
                                    {{
                                    checkkey(
                                    localData.vermittlerstatusforbrokermanager,
                                    "lastquestion"
                                    ).date
                                    | date
                                    : "dd.MM.yyyy H:mm"
                                    }}
                                  </h6>
                                </div>
                              </div>
                              <div *ngIf="
                                            localData.hasOwnProperty(
                                              'companydata'
                                            ) &&
                                            ((localData.hasOwnProperty(
                                              'companydata'
                                            ) &&
                                              checkkey(
                                                localData.companydata,
                                                'licensesign'
                                              ) == undefined) ||
                                              (localData.hasOwnProperty(
                                                'companydata'
                                              ) &&
                                                checkkey(
                                                  localData.companydata,
                                                  'Geschäftsanmeldung'
                                                ) == undefined) ||
                                              (localData.hasOwnProperty(
                                                'companydata'
                                              ) &&
                                                checkkey(
                                                  localData.companydata,
                                                  'Datenstammblatt mit Einwilligungserklärung'
                                                ) == undefined) ||
                                              (localData.hasOwnProperty(
                                                'companydatacheckup'
                                              ) &&
                                                localData.companydatacheckup
                                                  .length == 0) ||
                                              (localData.hasOwnProperty(
                                                'vermittlerstatusforbrokermanager'
                                              ) &&
                                                checkkey(
                                                  localData.vermittlerstatusforbrokermanager,
                                                  'lastquestion'
                                                ) == undefined) ||
                                              checkkey(
                                                localData.vermittlerstatusforbrokermanager,
                                                'lastquestion'
                                              ).ans == 'yes')
                                          ">
                                <div class="showcorner animate__animated animate__zoomIn animate__delay-1s">
                                  <i style="color: yellow" class="fa fa-check-circle">
                                    <!-- </i><span style="font-size: 15px;"> Teilweise verifiziert </span> -->
                                  </i><span style="font-size: 17px;color:#3A3D44">
                                    Fortschritt Verfizierung
                                  </span>
                                </div>
                              </div>
                            </div>
                          </h5>
                        </div>
                        <div *ngIf="
                                      localData.hasOwnProperty('companydata') &&
                                      checkkey(
                                        localData.companydata,
                                        'licensesign'
                                      ) != undefined &&
                                      checkkey(
                                        localData.companydata,
                                        'Geschäftsanmeldung'
                                      ) != undefined &&
                                      checkkey(
                                        localData.companydata,
                                        'Datenstammblatt mit Einwilligungserklärung'
                                      ) != undefined &&
                                      localData.hasOwnProperty(
                                        'companydatacheckup'
                                      ) &&
                                      localData.companydatacheckup.length > 0 &&
                                      localData.hasOwnProperty(
                                        'companydatacheckup'
                                      ) &&
                                      checkkey(
                                        localData.companydatacheckup,
                                        financialcheckdata[
                                          financialcheckdata.length - 1
                                        ]?.element?.document_name
                                      ) != undefined &&
                                      checkkey(
                                        localData.companydatacheckup,
                                        financialcheckdata[
                                          financialcheckdata.length - 1
                                        ]?.element?.document_name
                                      ).ans == 'yes' &&
                                      localData.hasOwnProperty(
                                        'vermittlerstatusforbrokermanager'
                                      ) &&
                                      checkkey(
                                        localData.vermittlerstatusforbrokermanager,
                                        'lastquestion'
                                      ) != undefined &&
                                      checkkey(
                                        localData.vermittlerstatusforbrokermanager,
                                        'lastquestion'
                                      ).ans == 'no'
                                    ">
                          <button class="button-primary transitionanimation" mat-raised-button data-toggle="modal"
                            data-target="#exampleModalLongnewupdate" [disabled]="false" (click)="
                                        open_modal('exampleModalLongnewupdate')
                                      ">
                            Aktualisierung starten&nbsp;<i class="fa fa-arrow-up" aria-hidden="true"></i>
                          </button>
                        </div>
                        <div *ngIf="
                                      localData.hasOwnProperty('companydata') &&
                                      ((localData.hasOwnProperty(
                                        'companydata'
                                      ) &&
                                        checkkey(
                                          localData.companydata,
                                          'licensesign'
                                        ) == undefined) ||
                                        (localData.hasOwnProperty(
                                          'companydata'
                                        ) &&
                                          checkkey(
                                            localData.companydata,
                                            'Geschäftsanmeldung'
                                          ) == undefined) ||
                                        (localData.hasOwnProperty(
                                          'companydata'
                                        ) &&
                                          checkkey(
                                            localData.companydata,
                                            'Datenstammblatt mit Einwilligungserklärung'
                                          ) == undefined) ||
                                        (localData.hasOwnProperty(
                                          'companydatacheckup'
                                        ) &&
                                          localData.companydatacheckup.length ==
                                            0) ||
                                        (localData.hasOwnProperty(
                                          'vermittlerstatusforbrokermanager'
                                        ) &&
                                          checkkey(
                                            localData.vermittlerstatusforbrokermanager,
                                            'lastquestion'
                                          ) == undefined) ||
                                        checkkey(
                                          localData.vermittlerstatusforbrokermanager,
                                          'lastquestion'
                                        ).ans == 'yes')
                                    ">
                          <button class="button-primary transitionanimation" mat-raised-button [disabled]="true">
                            Aktualisierung starten&nbsp;<i class="fa fa-arrow-up" aria-hidden="true"></i>
                          </button>
                        </div>

                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Vermittlervertrag">
          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
            style="margin-top: 0px">
            <div class="container-fluid px-0">
              <div class="d-flex justify-content-between col-12 customer-search mb-2 rounded p-2 graybox"
                style="width:100%">
                <div class="  col-md-3 position-relative">
                  <form action="">
                    <mat-icon class="position-absolute has-icon">search</mat-icon>
                    <input class="form-control pl-5 mr-4" name="search" placeholder="z.B. Dokumentenname" type="text"
                      id="searchid" [(ngModel)]="searchVariable"
                      (ngModelChange)="searchMembers($event,'Vermittlervertrag','firstdocumentdata','firstdocumentdata')" />
                  </form>
                </div>


                <button class="button-primary" style="height: 38px;font-size: 14px;">
                  Anzahl der Ergebnisse: {{ startRecordGDOC }} -
                  {{ endRecordGDOC }} /
                  {{ documents?.length }}
                </button>
              </div>
              <div class="row" style="
                            padding: 0px;
                            width: 100%;
                            margin: 0;
                            margin-top: 10px;
                          ">
                <div class="marginbox px-0" id="imagediv">
                  <div class="accordion-main" id="accordion">
                    <div class="accordion-head">
                      <ul style="color: #3A3D44;"
                        class="accordion-head-list list-unstyled mx-0 my-1  d-flex justify-content-between align-items-center">
                        <li class="TAB1 font-weight-bold">#</li>
                        <li class="TAB2 font-weight-bold">
                          Dokumentenname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                            data-name="element.document_name"></i> -->
                        </li>
                        <li class="TAB3 font-weight-bold">
                          Dateityp
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc" data-name="tags"></i> -->
                        </li>
                        <li class="TAB4 font-weight-bold">
                          Dateigröße
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc" data-name="tags"></i> -->
                        </li>

                        <li class="TAB5 font-weight-bold">
                          Datum des Uploads
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                            data-name="Start_of_contract"></i> -->
                        </li>

                        <li class="TAB8 font-weight-bold">
                          Interaktionen
                        </li>
                      </ul>
                    </div>

                    <div class="accordion-list-main mt-3">
                      <div class="accordion-list-item" *ngFor="
                                    let cl of firstdocumentdata;
                                    let i = index  ">
                        <ul
                          [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                          style="border-radius: 10px 10px;"
                          class="accordion-list-data list-unstyled m-0 p-2 d-flex justify-content-between align-items-center"
                          id="ul{{ cl?.element?.id }}">
                          <li class="TAB1">
                            {{ startRecordGDOC + i }}
                          </li>
                          <li class="TAB2" *ngIf="
                                        cl.element.document_name.includes(
                                          '(Abgelaufen)'
                                        );
                                        else changedname
                                      ">
                            {{
                            cl.element.document_name.replace(
                            "(Abgelaufen)",
                            ""
                            )
                            }}
                            <span Style="color: red">
                              (Abgelaufen)
                            </span>
                          </li>
                          <ng-template #changedname>
                            <li class="TAB2" *ngIf="
                                          cl.element.document_name.includes(
                                            'Geschäftsanmeldung'
                                          );
                                          else verifieddoc1
                                        ">
                              Gewerbeanmeldung
                              <span Style="color: green" *ngIf="
                                            checkforverified(
                                              cl.element.document_name
                                            ) != undefined;
                                            else unverified
                                          ">
                                (Verifiziert)
                              </span>
                            </li>
                          </ng-template>
                          <ng-template #verifieddoc1>
                            <li class="TAB2">
                              {{ cl.element.document_name }}
                              <span Style="color: green" *ngIf="
                                            checkforverified(
                                              cl.element.document_name
                                            ) != undefined;
                                            else unverified
                                          ">
                                (Verifiziert)
                              </span>
                            </li>
                          </ng-template>

                          <ng-template #unverified>
                            <span Style="color: orange">
                              (In Prüfung)
                            </span>
                          </ng-template>
                          <!-- <li class="TAB2">
                                      {{ cl.element.document_name }}
                                    </li> -->

                          <li class="TAB3">
                            {{ cl.filetype }}
                          </li>
                          <li class="TAB4">{{ cl.size }}</li>

                          <li class="TAB5">
                            {{ cl.date_of_upload }}
                          </li>

                          <li class="TAB8 mb-2">
                            <button type="button"
                              class="openclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1" (click)="
                                          preview(
                                            cl.element.document_url,
                                            cl.element.tags,
                                            cl.element.document_unique_id,
                                            cl.element.companycode,
                                            cl.element.brand,
                                            cl.element.document_name,
                                            cl.element.createdAt,
                                            cl.element.id,
                                            cl.element.created_byname,
                                            cl.element.ticket_no
                                          )
                                        " id="click{{ cl.element.id }}">
                              Öffnen
                            </button>
                          </li>
                        </ul>
                        <div class="col-md-12">
                          <div id="preview{{ cl.element.id }}" class="previewclass"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!-- <div class="col-md-12 p-0 table-min-height" hidden="true">
          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
            style="margin-top: 0px">
            <div class="container-fluid">
              <div class="row" style="padding: 0px; width: 100%; margin: 0">
                <div class="card-body px-0 py-3">
                  <form [formGroup]="personaldataform" #f="ngForm" novalidate="">
                    <div class="form-body">
                      <h5 class="form-section-title   pb-3 mb-3 d-flex">
                        <mat-icon class="mr-2">account_circle</mat-icon>
                        Persönliche Daten
                      </h5>
                      <div class="col-md-12 p-0 d-flex flex-row flex-wrap">
                        <div class="col-md-4 p-0 text-start"  style="width: 96%">
                          <mat-form-field appearance="outline">
                            <mat-label>Anrede</mat-label>
                            <mat-select matNativeControl formControlName="title"  >
                              <mat-option value="Herr">Herr</mat-option>
                              <mat-option value="Frau">Frau</mat-option>
                              <mat-option value="Firma">Firma</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 p-0 text-center" >
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>Vorname</mat-label>
                            <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 p-0 text-right" >
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>Nachname</mat-label>
                            <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 p-0 "  >
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>Geburtsdatum</mat-label>
                            <input matInput readonly [matDatepicker]="picker" [min]="minDate" [max]="maxDate"
                              placeholder="Geburtsdatum" formControlName="dob" />
                            <mat-datepicker-toggle matSuffix [for]="picker">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker format="dd\MM\yyyy">
                            </mat-datepicker>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 p-0 text-center" >
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>E-Mail</mat-label>
                            <input matInput readonly formControlName="email" placeholder="E-Mail" />
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 p-0 text-right" >
                          <mat-form-field appearance="outline" style="width: 96%">
                            <mat-label>Geburtsort</mat-label>
                            <input matInput readonly formControlName="birthPlace" placeholder="Geburtsort" />
                          </mat-form-field>
                        </div>
                        <h5 class="form-section-title   pb-3 mb-3 d-flex">
                          <mat-icon class="mr-2">account_circle</mat-icon>
                          Wohnsitz
                        </h5>
                        <div class="row">
                          <div class="col-md-4 p-0 text-start" >
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Straße</mat-label>
                              <input matInput readonly placeholder="Straße" formControlName="street" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center" >
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Nr.</mat-label>
                              <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right" >
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>PLZ</mat-label>
                              <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-4 p-0 text-start" >
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Stadt</mat-label>
                              <input matInput readonly placeholder="Stadt" formControlName="city" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center" >
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>C/O Appartmentnummer, Türcode, usw.
                              </mat-label>
                              <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                formControlName="additionalReference" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-right">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Land des Wohnsitzes</mat-label>
                              <input matInput readonly placeholder="Land des Wohnsitzes"
                                formControlName="countryOfResidence" />
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <h5 class="form-section-title   pb-3 mb-3 d-flex">
                  <mat-icon class="mr-2">account_circle</mat-icon>
                  Dokument
                </h5>
                <div
                  class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
                  style="margin-top: 0px; padding: 0px">
                  <div class="container-fluid" style="padding: 0px">
                    <div class="row" style="
                              padding: 0px;
                              width: 100%;
                              margin: 0;
                              margin-top: 10px;
                            ">
                      <div class="marginbox" id="imagediv">
                        <div class="accordion-main" id="accordion">
                          <div class="accordion-head">
                            <ul class="accordion-head-list list-unstyled d-flex">
                              <li class="TAB1 font-weight-bold">#</li>
                              <li class="TAB2 font-weight-bold">
                                Dokumentenname
                                <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                  data-name="element.document_name"></i>
                              </li>
                              <li class="TAB3 font-weight-bold">
                                Dateityp
                                <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                  data-name="tags"></i>
                              </li>
                              <li class="TAB4 font-weight-bold">
                                Dateigröße
                                <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                  data-name="tags"></i>
                              </li>

                              <li class="TAB5 font-weight-bold">
                                Datum des Uploads
                                <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                  data-name="Start_of_contract"></i>
                              </li>

                              <li class="TAB6 font-weight-bold">
                                Interaktionen
                              </li>
                            </ul>
                          </div>

                          <div class="accordion-list-main mt-3">
                             <div class="accordion-list-item" *ngFor="
                                      let cl of ceoDocListunique;
                                      let i = index
                                    ">
                              <ul class="accordion-list-data list-unstyled d-flex align-items-center"
                                id="ul{{ cl?.element?.id }}">
                                <li class="TAB1">
                                  {{ startRecordGDOC + i }}
                                </li>
                                <li class="TAB2" *ngIf="
                                          cl.element.document_name.includes(
                                            '(Abgelaufen)'
                                          );
                                          else verifieddoc2
                                        ">
                                  {{
                                  cl.element.document_name.replace(
                                  "(Abgelaufen)",
                                  ""
                                  )
                                  }}
                                  <span Style="color: red">
                                    (Abgelaufen)
                                  </span>
                                </li>
                                <ng-template #verifieddoc2>
                                  <li class="TAB2">
                                    {{ cl.element.document_name }}
                                    <span Style="color: green">
                                      (Verifiziert)
                                    </span>
                                  </li>
                                </ng-template>

                                <li class="TAB3">
                                  {{ cl.filetype }}
                                </li>
                                <li class="TAB4">{{ cl.size }}</li>

                                <li class="TAB5">
                                  {{ cl.date_of_upload }}
                                </li>

                                <li class="TAB6 mb-2">
                                  <button type="button"
                                    class="openclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1" (click)="
                                            previewshare(
                                              cl.element.document_url,
                                              cl.element.tags,
                                              cl.element.document_unique_id,
                                              cl.element.companycode,
                                              cl.element.brand,
                                              cl.element.document_name,
                                              cl.element.createdAt,
                                              cl.element.id,
                                              cl.element.created_byname,
                                              cl.element.ticket_no
                                            )
                                          " id="clickshare{{ cl.element.id }}">
                                    Öffnen
                                  </button>
                                </li>
                              </ul>
                              <div class="col-md-12">
                                <div id="preview{{ cl.element.id }}" class="previewclass"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> -->


        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Vertretungsberechtigte">

          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
            style="margin-top: 0px">
            <div class="container-fluid  px-0">
              <div class="d-flex justify-content-between col-12 customer-search mb-2 rounded p-2 graybox"
                style="width: 100%">
                <div class="  col-md-3 position-relative">
                  <form action="">
                    <mat-icon class="position-absolute has-icon">search</mat-icon>
                    <input class="form-control pl-5 mr-4" name="search" placeholder="z.B. Dokumentenname" type="text"
                      id="searchid" [(ngModel)]="searchVariable"
                      (ngModelChange)="searchMembers($event,'Vertretungsberechtigte','type1','pagedItemstype')" />
                  </form>
                </div>

                <button class="button-primary" style="height: 38px;font-size: 14px">
                  Anzahl der Ergebnisse: {{ startRecordtype[0].type1 }} -
                  {{ endRecordtype[0].type1 }} /
                  {{ pagedItemstype[0].type1.length }}
                </button>
              </div>

              <div class="row" style="padding: 0px; width: 100%; margin: 0">
                <div class="col-md-12 p-0" id="cardbodyidtype1">
                  <div class="accordion-main" id="accordion">
                    <div class="accordion-head">
                      <ul style="color: #272b34;"
                        class="accordion-head-list list-unstyled mx-0 my-1  d-flex justify-content-between align-items-center">
                        <li class="TAB1 font-weight-bold">#</li>
                        <li class="TAB2 font-weight-bold">
                          Anrede
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type1" data-order="asc"
                            data-name="title"></i> -->
                        </li>
                        <li class="TAB3 font-weight-bold">
                          Vorname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type1" data-order="asc"
                            data-name="firstname"></i> -->
                        </li>
                        <li class="TAB4 font-weight-bold">
                          Nachname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type1" data-order="asc"
                            data-name="lastname"></i> -->
                        </li>
                        <li class="TAB5 font-weight-bold">
                          Geburtsdatum
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type1" data-order="asc"
                            data-name="dateofbirth"></i> -->
                        </li>

                        <li class="TAB6 font-weight-bold">
                          Interaktionen
                        </li>
                      </ul>
                    </div>

                    <div class="accordion-list-main mt-3">
                      <div class="accordion-list-item" *ngFor="
                                let cl of pagedItemstype[0].type1;
                                let i = index
                              ">
                        <ul
                          [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                          style="border-radius: 10px 10px;"
                          class="accordion-list-data list-unstyled m-0 p-2 d-flex justify-content-between align-items-center"
                          id="ultype1{{ i }}">
                          <li class="TAB1">
                            {{ startRecordGDOC + i }}
                          </li>

                          <li class="TAB2">
                            {{ cl.title }}
                          </li>

                          <li class="TAB3">
                            {{ cl.firstname }}
                          </li>
                          <li class="TAB4">
                            {{ cl.lastname }}
                          </li>
                          <li class="TAB5">
                            {{ cl.dateofbirth | date : "dd.MM.yyyy" }}
                          </li>

                          <li class="TAB6 mb-2">
                            <a class="openclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                              data-toggle="collapse" (click)="editRecord('type1', i, cl)"
                              id="clicktype1{{ i }}">Öffnen</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end pagination-main my-3">
                    <ul *ngIf="pagedItemstype[0].type1.length" class="pagination m-0 pagerAction">
                      <li [ngClass]="{
                                disabled: pagertype[0].type1.currentPage === 1
                              }" class="page-item">
                        <a (click)="setPagetype(1, 'type1')" class="page-link">
                          << </a>
                      </li>
                      <li [ngClass]="{
                                disabled: pagertype[0].type1.currentPage === 1
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type1.currentPage - 1,
                                    'type1'
                                  )
                                " class="page-link">
                          < </a>
                      </li>
                      <li *ngFor="let page of pagertype[0].type1.pages" [ngClass]="{
                                active: pagertype[0].type1.currentPage === page
                              }" class="page-item">
                        <a (click)="setPagetype(page, 'type1')" class="page-link">{{
                          page }}</a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type1.currentPage ===
                                  pagertype[0].type1.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type1.currentPage + 1,
                                    'type1'
                                  )
                                " class="page-link">></a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type1.currentPage ===
                                  pagertype[0].type1.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type1.totalPages,
                                    'type1'
                                  )
                                " class="page-link">
                          >>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>

                <div id="collapsetype1" class="collapse" style="
                          background: #e7e7e770;
                          padding: 0px 24px;
                          border-radius: 10px;
                        " data-parent="#accordion">
                  <div class="card-body px-0 py-3">
                    <form [formGroup]="brokerformtype1" #f="ngForm" novalidate="">
                      <div class="form-body">
                        <h5 class="form-section-title   pb-3 mb-3 d-flex">
                          <mat-icon class="mr-2">account_circle</mat-icon>
                          Persönliche Daten
                        </h5>
                        <div class="row">
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Anrede</mat-label>
                              <mat-select matNativeControl formControlName="title" style="font-size: 12px"
                                [disabled]="true">
                                <mat-option value="Herr">Herr</mat-option>
                                <mat-option value="Frau">Frau</mat-option>
                                <mat-option value="Firma">Firma</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Vorname</mat-label>
                              <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Nachname</mat-label>
                              <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Geburtsdatum</mat-label>
                              <input matInput readonly [matDatepicker]="picker" [min]="minDate" [max]="maxDate"
                                placeholder="Geburtsdatum" formControlName="dob" />
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker format="dd\MM\yyyy"></mat-datepicker>
                            </mat-form-field>
                          </div>
                          <h5 class="form-section-title   pb-3 mb-3 d-flex">
                            <mat-icon class="mr-2">account_circle</mat-icon>
                            Wohnsitz
                          </h5>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Straße</mat-label>
                                <input matInput readonly placeholder="Straße" formControlName="street" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>Nr.</mat-label>
                                <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>PLZ</mat-label>
                                <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Stadt</mat-label>
                                <input matInput readonly placeholder="Stadt" formControlName="city" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>C/O Appartmentnummer, Türcode,
                                  usw.
                                </mat-label>
                                <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                  formControlName="additionalReference" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Land des Wohnsitzes</mat-label>
                                <input matInput readonly placeholder="Land des Wohnsitzes"
                                  formControlName="countryOfResidence" />
                              </mat-form-field>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Bevollmachtigte">

          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
            style="margin-top: 0px">
            <div class="container-fluid px-0">
              <div class="d-flex justify-content-between col-12 customer-search mb-2 rounded p-2 graybox"
                style="width: 100%">
                <div class="  col-md-3 position-relative">
                  <form action="">
                    <mat-icon class="position-absolute has-icon">search</mat-icon>
                    <input class="form-control pl-5 mr-4" name="search" placeholder="z.B. Dokumentenname" type="text"
                      id="searchid" [(ngModel)]="searchVariable"
                      (ngModelChange)="searchMembers($event,'Bevollmachtigte','type2','pagedItemstype')" />
                  </form>
                </div>


                <button class="button-primary" style="height: 38px;font-size: 14px">
                  Anzahl der Ergebnisse: {{ startRecordtype[0].type2 }} -
                  {{ endRecordtype[0].type2 }} /
                  {{ pagedItemstype[0].type2?.length }}
                </button>
              </div>

              <div class="row" style="padding: 0px; width: 100%; margin: 0">
                <div class="col-md-12 p-0" id="cardbodyidtype2">
                  <div class="accordion-main" id="accordion">
                    <div class="accordion-head">
                      <ul style="color: #3A3D44;"
                        class="accordion-head-list list-unstyled mx-0 my-1  d-flex justify-content-between align-items-center">
                        <li class="TAB1 font-weight-bold">#</li>
                        <li class="TAB2 font-weight-bold">
                          Anrede
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type2" data-order="asc"
                            data-name="title"></i> -->
                        </li>
                        <li class="TAB3 font-weight-bold">
                          Vorname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type2" data-order="asc"
                            data-name="firstname"></i> -->
                        </li>
                        <li class="TAB4 font-weight-bold">
                          Nachname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type2" data-order="asc"
                            data-name="lastname"></i> -->
                        </li>
                        <li class="TAB5 font-weight-bold">
                          Geburtsdatum
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemstype[0].type2" data-order="asc"
                            data-name="dateofbirth"></i> -->
                        </li>

                        <li class="TAB6 font-weight-bold">
                          Interaktionen
                        </li>
                      </ul>
                    </div>

                    <div class="accordion-list-main mt-3">
                      <div class="accordion-list-item" *ngFor="
                                let cl of pagedItemstype[0].type2;
                                let i = index
                              ">
                        <ul
                          [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                          style="border-radius: 10px 10px;"
                          class="accordion-list-data list-unstyled m-0 p-2 d-flex justify-content-between align-items-center"
                          id="ultype2{{ i }}">
                          <li class="TAB1">
                            {{ startRecordGDOC + i }}
                          </li>

                          <li class="TAB2">
                            {{ cl.title }}
                          </li>

                          <li class="TAB3">
                            {{ cl.firstname }}
                          </li>
                          <li class="TAB4">
                            {{ cl.lastname }}
                          </li>
                          <li class="TAB5">
                            {{ cl.dateofbirth | date : "dd.MM.yyyy" }}
                          </li>

                          <li class="TAB6 mb-2">
                            <a class="openclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                              data-toggle="collapse" (click)="editRecord('type2', i, cl)"
                              id="clicktype2{{ i }}">Öffnen</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end pagination-main my-3">
                    <ul *ngIf="pagedItemstype[0].type2?.length" class="pagination m-0 pagerAction">
                      <li [ngClass]="{
                                disabled: pagertype[0].type2.currentPage === 1
                              }" class="page-item">
                        <a (click)="setPagetype(1, 'type2')" class="page-link">
                          << </a>
                      </li>
                      <li [ngClass]="{
                                disabled: pagertype[0].type2.currentPage === 1
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type2.currentPage - 1,
                                    'type2'
                                  )
                                " class="page-link">
                          < </a>
                      </li>
                      <li *ngFor="let page of pagertype[0].type2.pages" [ngClass]="{
                                active: pagertype[0].type2.currentPage === page
                              }" class="page-item">
                        <a (click)="setPagetype(page, 'type2')" class="page-link">{{
                          page }}</a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type2.currentPage ===
                                  pagertype[0].type2.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type2.currentPage + 1,
                                    'type2'
                                  )
                                " class="page-link">></a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type2.currentPage ===
                                  pagertype[0].type2.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type2.totalPages,
                                    'type2'
                                  )
                                " class="page-link">
                          >>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div id="collapsetype2" class="collapse" style="
                          background: #e7e7e770;
                          padding: 0px 24px;
                          border-radius: 10px;
                        " data-parent="#accordion">
                  <div class="card-body px-0 py-3">
                    <form [formGroup]="brokerformtype2" #f="ngForm" novalidate="">
                      <div class="form-body">
                        <h5 class="form-section-title   pb-3 mb-3 d-flex">
                          <mat-icon class="mr-2">account_circle</mat-icon>
                          Persönliche Daten
                        </h5>
                        <div class="row">
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Anrede</mat-label>
                              <mat-select matNativeControl formControlName="title" style="font-size: 12px"
                                [disabled]="true">
                                <mat-option value="Herr">Herr</mat-option>
                                <mat-option value="Frau">Frau</mat-option>
                                <mat-option value="Firma">Firma</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Vorname</mat-label>
                              <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Nachname</mat-label>
                              <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Geburtsdatum</mat-label>
                              <input matInput readonly [matDatepicker]="picker1" [min]="minDate" [max]="maxDate"
                                placeholder="Geburtsdatum" formControlName="dob" />
                              <mat-datepicker-toggle matSuffix [for]="picker1">
                              </mat-datepicker-toggle>
                              <mat-datepicker #picker1 format="dd\MM\yyyy">
                              </mat-datepicker>
                            </mat-form-field>
                          </div>
                          <h5 class="form-section-title   pb-3 mb-3 d-flex">
                            <mat-icon class="mr-2">account_circle</mat-icon>
                            Wohnsitz
                          </h5>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Straße</mat-label>
                                <input matInput readonly placeholder="Straße" formControlName="street" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>Nr.</mat-label>
                                <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>PLZ</mat-label>
                                <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Stadt</mat-label>
                                <input matInput readonly placeholder="Stadt" formControlName="city" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>C/O Appartmentnummer, Türcode,
                                  usw.
                                </mat-label>
                                <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                  formControlName="additionalReference" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Land des Wohnsitzes</mat-label>
                                <input matInput readonly placeholder="Land des Wohnsitzes"
                                  formControlName="countryOfResidence" />
                              </mat-form-field>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Wirtschaftlicher">

          <div
            class="customer-managment-content-main d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
            style="margin-top: 0px">
            <div class="container-fluid px-0">
              <div class="d-flex justify-content-between col-12 customer-search mb-2 rounded p-2 graybox"
                style="width: 100%">
                <div class="  col-md-3 position-relative">
                  <form action="">
                    <mat-icon class="position-absolute has-icon">search</mat-icon>
                    <input class="form-control pl-5 mr-4" name="search" placeholder="z.B. Dokumentenname" type="text"
                      id="searchid" [(ngModel)]="searchVariable"
                      (ngModelChange)="searchMembers($event,'Wirtschaftlicher','type3','pagedItemstype')" />
                  </form>
                </div>


                <button class="button-primary" style="height: 38px;font-size: 14px">
                  Anzahl der Ergebnisse: {{ startRecordtype[0].type3 }} -
                  {{ endRecordtype[0].type3 }} /
                  {{ pagedItemstype[0].type3?.length }}
                </button>
              </div>

              <div class="row" style="padding: 0px; width: 100%; margin: 0">
                <div class="col-md-12 p-0" id="cardbodyidtype3">
                  <div class="accordion-main" id="accordion">
                    <div class="accordion-head">
                      <ul style="color:#3A3D44"
                        class="accordion-head-list list-unstyled mx-0 my-1  d-flex justify-content-between align-items-center">
                        <li class="TAB1 font-weight-bold">#</li>
                        <li class="TAB2 font-weight-bold">
                          Anrede
                        </li>
                        <li class="TAB3 font-weight-bold">
                          Vorname
                        </li>
                        <li class="TAB4 font-weight-bold">
                          Nachname
                        </li>
                        <li class="TAB5 font-weight-bold">
                          Unternehmensanteil in Prozent
                        </li>
                        <li class="TAB6 font-weight-bold">
                          Geburtsdatum
                        </li>

                        <li class="TAB7 font-weight-bold">
                          Interaktionen
                        </li>
                      </ul>
                    </div>

                    <div class="accordion-list-main mt-3">
                      <div class="accordion-list-item" *ngFor="
                                let cl of pagedItemstype[0].type3;
                                let i = index
                              ">
                        <ul
                          [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                          style="border-radius: 10px 10px;"
                          class="accordion-list-data list-unstyled m-0 p-2 d-flex justify-content-between align-items-center"
                          id="ultype3{{ i }}">
                          <li class="TAB1">
                            {{ startRecordGDOC + i }}
                          </li>

                          <li class="TAB2">
                            {{ cl.title }}
                          </li>

                          <li class="TAB3">
                            {{ cl.firstname }}
                          </li>
                          <li class="TAB4">
                            {{ cl.lastname }}
                          </li>
                          <li class="TAB5">
                            {{ cl.shares }}
                          </li>
                          <li class="TAB6">
                            {{ cl.dateofbirth | date : "dd.MM.yyyy" }}
                          </li>

                          <li class="TAB7 mb-2">
                            <a class="openclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                              data-toggle="collapse" (click)="editRecord('type3', i, cl)"
                              id="clicktype3{{ i }}">Öffnen</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end pagination-main my-3">
                    <ul *ngIf="pagedItemstype[0].type3?.length" class="pagination m-0 pagerAction">
                      <li [ngClass]="{
                                disabled: pagertype[0].type3.currentPage === 1
                              }" class="page-item">
                        <a (click)="setPagetype(1, 'type3')" class="page-link">
                          << </a>
                      </li>
                      <li [ngClass]="{
                                disabled: pagertype[0].type3.currentPage === 1
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type3.currentPage - 1,
                                    'type3'
                                  )
                                " class="page-link">
                          < </a>
                      </li>
                      <li *ngFor="let page of pagertype[0].type3.pages" [ngClass]="{
                                active: pagertype[0].type3.currentPage === page
                              }" class="page-item">
                        <a (click)="setPagetype(page, 'type3')" class="page-link">{{
                          page }}</a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type3.currentPage ===
                                  pagertype[0].type3.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type3.currentPage + 1,
                                    'type3'
                                  )
                                " class="page-link">></a>
                      </li>
                      <li [ngClass]="{
                                disabled:
                                  pagertype[0].type3.currentPage ===
                                  pagertype[0].type3.totalPages
                              }" class="page-item">
                        <a (click)="
                                  setPagetype(
                                    pagertype[0].type3.totalPages,
                                    'type3'
                                  )
                                " class="page-link">
                          >>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div id="collapsetype3" class="collapse" style="
                          background: #e7e7e770;
                          padding: 0px 24px;
                          border-radius: 10px;
                        " data-parent="#accordion">
                  <div class="card-body px-0 py-3">
                    <form [formGroup]="brokerformtype3" #f="ngForm" novalidate="">
                      <div class="form-body">
                        <h5 class="form-section-title   pb-3 mb-3 d-flex">
                          <mat-icon class="mr-2">account_circle</mat-icon>
                          Persönliche Daten
                        </h5>
                        <div class="row">
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Anrede</mat-label>
                              <mat-select matNativeControl formControlName="title" style="font-size: 12px"
                                [disabled]="true">
                                <mat-option value="Herr">Herr</mat-option>
                                <mat-option value="Frau">Frau</mat-option>
                                <mat-option value="Firma">Firma</mat-option>
                              </mat-select>
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Vorname</mat-label>
                              <input matInput readonly formControlName="firstName" placeholder="Vorname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Nachname</mat-label>
                              <input matInput readonly formControlName="lastName" placeholder="Nachname" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 206px">
                              <mat-label>Unternehmensanteil in Prozent
                              </mat-label>
                              <input matInput readonly formControlName="shares" placeholder="Anteile" />
                            </mat-form-field>
                          </div>
                          <div class="col-md-4 p-0 text-center">
                            <mat-form-field appearance="outline" style="width: 96%">
                              <mat-label>Geburtsdatum</mat-label>
                              <input matInput readonly [matDatepicker]="picker2" [min]="minDate" [max]="maxDate"
                                placeholder="Geburtsdatum" formControlName="dob" />
                              <mat-datepicker-toggle matSuffix [for]="picker2">
                              </mat-datepicker-toggle>
                              <mat-datepicker #picker2 format="dd\MM\yyyy">
                              </mat-datepicker>
                            </mat-form-field>
                          </div>
                          <h5 class="form-section-title   pb-3 mb-3 d-flex">
                            <mat-icon class="mr-2">account_circle</mat-icon>
                            Wohnsitz
                          </h5>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Straße</mat-label>
                                <input matInput readonly placeholder="Straße" formControlName="street" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>Nr.</mat-label>
                                <input matInput readonly placeholder="Nr." formControlName="streetNumber" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline">
                                <mat-label>PLZ</mat-label>
                                <input matInput readonly placeholder="PLZ" formControlName="postCode" />
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Stadt</mat-label>
                                <input matInput readonly placeholder="Stadt" formControlName="city" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>C/O Appartmentnummer, Türcode,
                                  usw.
                                </mat-label>
                                <input matInput readonly placeholder="C/O Appartmentnummer, Türcode, usw."
                                  formControlName="additionalReference" />
                              </mat-form-field>
                            </div>
                            <div class="col-md-4 p-0 text-center">
                              <mat-form-field appearance="outline" style="width: 96%">
                                <mat-label>Land des Wohnsitzes</mat-label>
                                <input matInput readonly placeholder="Land des Wohnsitzes"
                                  formControlName="countryOfResidence" />
                              </mat-form-field>
                            </div>
                          </div>
                          <!-- <div class="justify-content-end">
                                <button

                                  class="btn btn-warning mr-3"
                                  type="button"

                                >
                                  <i class="ft-x"></i> Änderungen Speichern
                                </button>

                              </div> -->
                        </div>
                      </div>
                    </form>
                  </div>
                  <div>
                    <h5 class="form-section-title   pb-3 mb-3 d-flex">
                      <mat-icon class="mr-2">account_circle</mat-icon>
                      Dokument
                    </h5>
                    <div
                      class="customer-managment-content-main   d-flex flex-row justify-content-center align-items-center flex-grow-0 flex-shrink-0 gap-1"
                      style="
                              margin-top: 0px;
                              padding: 0px;
                              margin-bottom: 20px;
                            ">
                      <div class="container-fluid" style="padding: 0px">
                        <div class="row" style="
                                  padding: 0px;
                                  width: 100%;
                                  margin: 0;
                                  margin-top: 10px;
                                ">
                          <div class="marginbox" id="imagediv" style="padding: 0px">
                            <div class="accordion-main" id="accordion">
                              <div class="accordion-head">
                                <ul class="accordion-head-list list-unstyled d-flex">
                                  <li class="TAB1 font-weight-bold">#</li>
                                  <li class="TAB2 font-weight-bold">
                                    Dokumentenname
                                    <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="element.document_name"></i>
                                  </li>
                                  <li class="TAB3 font-weight-bold">
                                    Dateityp
                                    <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="tags"></i>
                                  </li>
                                  <li class="TAB4 font-weight-bold">
                                    Dateigröße
                                    <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="tags"></i>
                                  </li>

                                  <li class="TAB5 font-weight-bold">
                                    Datum des Uploads
                                    <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                                      data-name="Start_of_contract"></i>
                                  </li>

                                  <li class="TAB6 font-weight-bold">
                                    Interaktionen
                                  </li>
                                </ul>
                              </div>

                              <div class="accordion-list-main mt-3">
                                <div class="accordion-list-item" *ngFor="
                                          let cl of shareholdersDocList[
                                            shareholdersindex
                                          ];
                                          let i = index
                                        ">
                                  <ul class="accordion-list-data list-unstyled d-flex align-items-center"
                                    id="ul{{ cl?.element?.id }}">
                                    <li class="TAB1">
                                      {{ startRecordGDOC + i }}
                                    </li>
                                    <li class="TAB2" *ngIf="
                                              cl.element.document_name.includes(
                                                '(Abgelaufen)'
                                              );
                                              else verifieddoc4
                                            ">
                                      {{
                                      cl.element.document_name.replace(
                                      "(Abgelaufen)",
                                      ""
                                      )
                                      }}
                                      <span Style="color: red">
                                        (Abgelaufen)
                                      </span>
                                    </li>
                                    <ng-template #verifieddoc4>
                                      <li class="TAB2">
                                        {{ cl.element.document_name
                                        }}
                                        <span Style="color: green" *ngIf="
                                                  checkforverified(
                                                    cl.element.document_name
                                                  ) != undefined;
                                                  else unverified
                                                ">
                                          (Verifiziert)
                                        </span>
                                      </li>
                                    </ng-template>

                                    <ng-template #unverified>
                                      <span Style="color: orange">
                                        (In Prüfung)
                                      </span>
                                    </ng-template>
                                    <!--
                                          <li class="TAB2">
                                            {{ cl.element.document_name }}
                                          </li> -->

                                    <li class="TAB3">
                                      {{ cl.filetype }}
                                    </li>
                                    <li class="TAB4">{{ cl.size }}</li>

                                    <li class="TAB5">
                                      {{ cl.date_of_upload }}
                                    </li>

                                    <li class="TAB6 mb-2">
                                      <button type="button"
                                        class="openclass offenclass offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1"
                                        (click)="
                                                previewshare(
                                                  cl.element.document_url,
                                                  cl.element.tags,
                                                  cl.element.document_unique_id,
                                                  cl.element.companycode,
                                                  cl.element.brand,
                                                  cl.element.document_name,
                                                  cl.element.createdAt,
                                                  cl.element.id,
                                                  cl.element.created_byname,
                                                  cl.element.ticket_no,
                                                  i
                                                )
                                              " id="clickshare{{ cl.element.id }}">
                                        Öffnen
                                      </button>
                                    </li>
                                  </ul>
                                  <div class="col-md-12">
                                    <div id="preview{{ cl.element.id }}" class="previewclass"></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Marketing">
          <div class="container-fluid col-md-12 p-0" style="display: block">
            <div class="col-12 px-3 py-2 mb-4 rounded-3 d-flex flex-row "
              style="background-color: #f2f2f2;font-weight: 500;font-size: 16px;">
              <img src="../../assets/infoIcon.svg" alt="" style="width: 4%;">
              <span>
                Damit Ihr Unternehmen optimal erkannt wird, empfehlen wir
                Ihnen, ihr Unternehmenslogo hochzuladen, ein Begrüßungsvideo
                hochzuladen und die URL ihrer Webseite zu hinterlegen.
              </span>
            </div>
            <div class="row" class="meine-daten-content-main" style="margin-top: 30px;">
              <form #fsl="ngForm" [formGroup]="docFromGroup" class="more-info-form fornstep1">
                <div class="col-12 flex-row flex-wrap p-0">

                  <div class="col-md-12 d-flex flex-row p-0">
                    <div class="col-6 p-0 ">
                      <p style="font-size: medium; text-align: left ">
                        Bitte geben Sie hier die URL ihrer Webseite an.
                      </p>
                      <div class="d-flex col-12 p-0 flex-column">
                        <mat-form-field appearance="outline" style="width:98%">
                          <mat-label>Website Url</mat-label>
                          <input matInput formControlName="website_url" (ngModelChange)="updateKey($event)"
                            placeholder="Website Url" />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col-6 p-0 d-flex flex-column justify-content-end">
                      <p style="font-size: medium; text-align: left;width: 98%;">
                        Bitte geben Sie eine Kontaktnummer für Ihre Kunden
                        ein.
                      </p>
                      <div class="d-flex col-12 justify-content-end p-0">
                        <mat-form-field appearance="outline" style="width:98%">
                          <mat-label style="margin-left: 40px">{{ inputfield }}
                          </mat-label>
                          <input matInput id="phone" (ngModelChange)="updatephoneno($event)" [maxlength]="20"
                            name="phone_number" formControlName="phone_number" class="test" [placeholder]="inputfield"
                            type="tel" oninput="this.value=this.value.replace(/[^0-9/+]/g,'')" />
                        </mat-form-field>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="col-12 flex-row flex-wrap p-0">
                  <div class="col-12 d-flex justify-content-between p-0 ">
                    <div class="col-md-6 ps-0">
                      <div class="d-flex flex-column justify-content-around align-items-start gap-2 p-0">
                        <div
                          class="d-flex flex-row justify-content-center align-items-center p-0 flex-grow-0 flex-shrink-0">
                          <p style="font-size: smaller ;text-align: left;color: black;">
                            Ihr Willkommensvideo wird mit dem Logo neu
                            hinzugefügten Kunden in der Willkommens E-Mail
                            und dem Registrierungsprozess angezeigt.
                          </p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 pr-0 ">
                      <div class="d-flex flex-column justify-content-around align-items-start gap-2 p-0">
                        <div
                          class="d-flex flex-row justify-content-center align-items-center p-0 flex-grow-0 flex-shrink-0">
                          <p style="font-size: smaller ;text-align: left;color: black;">
                            Bitte fügen Sie ihr Unternehmenslogo im Format
                            PNG hinzu, dieses wird Ihren Kunden in
                            zahlreichen Bereichen angezeigt um einen
                            optimalen Wiedererkennungswert zu erreichen.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex flex-column justify-content-center align-items-center gap-2 mb-5 p-0">
                    <div class="col-md-12 d-flex justify-content-center flex-wrap align-items-start p-0">

                      <div class="col-md-6 ps-0">
                        <div
                          class="upload-file bg-white rounded-4 position-relative d-flex flex-column justify-content-center align-items-center p-1"
                          style="cursor: pointer;height: 235px;">
                          <input accept="video/mp4,video/m4v,video/mov" class="upload-files w-100 position-absolute"
                            formcontrolname="DocOne" id="DocOne" name="DocOne" style="height: 190px" type="file"
                            #fileInput1 (click)="fileInput1.value = null" (change)="
                                    handleImageChange(
                                      $event,
                                      'PerviewOne',
                                      'Willkommensvideo',
                                      0
                                    )
                                  " />
                          <p class="  font-18 m-b-0" style="
                                    font-size: 17px;
                                    font-weight: 700;
                                    text-align: center;
                                    color: #454C58;
                                  ">
                            Willkommensvideo
                          </p>
                          <div class="mt-3" style="text-align: center">
                            <div class="icons-img">
                              <img style="width: 48px;max-width: unset;"
                                src="../../assets//icons/file-upload-blue-vdo.svg" alt="">
                            </div>
                          </div>
                          <div style="display: block; margin: 0 auto">
                            <div class="up-file-wrap" style="text-align: center">
                              <p class="text-bodycolor font-18 m-b-0" style="
                                        font-size: 14px;
                                        font-weight: 600;
                                        text-align: center;
                                        color: #454C58;
                                      ">
                                Dokumente für Upload wählen oder einfach
                                hierhin ziehen.
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 pr-0">

                        <div
                          class="upload-file bg-white rounded-4 position-relative d-flex flex-column justify-content-center align-items-center p-1"
                          style="cursor: pointer;height: 235px;">
                          <input accept="image/*" class="upload-files w-100 position-absolute" formcontrolname="DocTwo"
                            id="DocTwo" name="DocTwo" style="height: 190px" type="file" #fileInput
                            (click)="fileInput.value = null" (change)="
                                      handleImageChange(
                                        $event,
                                        'PerviewTwo',
                                        'Logo',
                                        1
                                      )
                                    " />
                          <p class=" font-18 m-b-0" style="
                                      font-size: 17px;
                                      font-weight: 700;
                                      text-align: center;
                                      color: #454C58;
                                    ">
                            Logo
                          </p>
                          <div class="mt-3" style="text-align: center">
                            <div class="icons-img">
                              <img style="width: 48px;max-width: unset;"
                                src="../../assets//icons/file-upload-blue-img.svg" alt="">
                            </div>
                          </div>
                          <div style="display: block; margin: 0 auto">
                            <div class="up-file-wrap" style="text-align: center">

                              <p class=" font-18 m-b-0" style="
                                          font-size: 14px;
                                          font-weight: 600;
                                          text-align: center;
                                          color: #454C58;
                                        ">
                                Dokumente für Upload wählen oder einfach
                                hierhin ziehen.
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4"></div>
                  <div class="col-md-4 text-center">
                    <div class="videoPerviewOne" id="PerviewOne">
                      <div *ngIf="welcomevideodata" class="pip" style="margin: auto !important" id="div3">
                        <div class="removepreview" (click)="removedatanew('PerviewOne', '0')" style="
                                  background: #184297;
                                  border-radius: 50%;
                                  width: 30px;
                                  height: 30px;
                                  font-size: 14px;
                                  padding: 6px;
                                  color: white;
                                  position: relative;
                                  margin-top: 2px;
                                  margin-left: auto;
                                  cursor: pointer;
                                ">
                          X
                        </div>
                        <video controls id="videoSourceWrapper0" src="{{ api_url }}document/downloaddocument/{{
                                  localData.welcomevideo
                                }}" style="
                                  width: 100%;
                                  height: 210px;
                                  margin-top: 10px;
                                  object-fit: cover;
                                "></video>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 text-center">
                    <div id="PerviewTwo">
                      <div *ngIf="brokerlogodata" class="pip" style="margin: auto !important" id="div3">
                        <div class="removepreview" (click)="removedatanew('PerviewTwo', '1')" style="
                                  background: #184297;
                                  border-radius: 50%;
                                  width: 30px;
                                  height: 30px;
                                  font-size: 14px;
                                  padding: 6px;
                                  color: white;
                                  position: relative;
                                  margin-top: 2px;
                                  margin-left: auto;
                                  cursor: pointer;
                                ">
                          X
                        </div>

                        <img class="imageThumb" style="
                                  width: 100%;
                                  height: 210px;
                                  margin-top: 10px;
                                " src="{{ api_url }}document/downloaddocument/{{
                                  localData.logo
                                }}" title="{{ localData.logo }}" />
                      </div>
                    </div>
                  </div>
                </div>

                <br /><br />

                <div class="d-flex justify-content-end">
                  <div style="text-align: right">
                    <button *ngIf="uploadingdata" [disabled]="true" class="btn button-primary transitionanimation"
                      (click)="moveForward()">
                      Aktualisieren
                    </button>
                    <button *ngIf="!uploadingdata" [disabled]="
                              !website_urlupdate &&
                              !phonenumupdate &&
                              !brokermarketingdetails &&
                              documentlist[0] == '' &&
                              documentlist[1] == ''
                                ? true
                                : false
                            " class="btn button-primary transitionanimation" (click)="moveForward()">
                      Aktualisieren </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Fallliste">

        </div>

        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Angebote">

        </div>

        <div class="col-md-12 p-3 table-min-height" [hidden]="hideValues.Allgemeines">
          <div
            class="d-flex flex-row justify-content-center align-items-center gap-1 flex-grow-0 flex-shrink-0 customer-managment-content-main"
            style="margin-top: 0px">
            <div class="container-fluid px-0">
              <div class="d-flex justify-content-between col-12 customer-search mb-2 rounded p-2 graybox"
                style="width:100%">
                <div class="col-md-3 position-relative">
                  <form action="">
                    <mat-icon class="position-absolute has-icon">search</mat-icon>
                    <input class="form-control pl-5 mr-4" name="search" placeholder="z.B. Dokumentenname" type="text"
                      id="searchid" [(ngModel)]="searchVariable"
                      (ngModelChange)="searchMembers($event,'Allgemeines','pagedItemsGDOC','pagedItemsGDOC')" />
                  </form>
                </div>


                <button class="button-primary" style="height: 38px;font-size: 14px;">
                  Anzahl der Ergebnisse: {{ startRecordGDOC }} -
                  {{ endRecordGDOC }} /
                  <!--{{ pagedItemsGDOC.length }}-->
                  {{ unique_documents.length }}
                </button>
              </div>

              <div class="row" style="padding: 0px; width: 100%; margin: 0">
                <div class="col-md-12 p-0" id="imagediv">
                  <div class="accordion-main" id="accordion">
                    <div class="accordion-head">
                      <ul style="color: #3A3D44;"
                        class="accordion-head-list list-unstyled mx-0 my-1  d-flex justify-content-between align-items-center">
                        <li class="TAB1 font-weight-bold">#</li>
                        <li class="TAB2 font-weight-bold" style="width: 40% !important">
                          Dokumentenname
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                            data-name="element.document_name"></i> -->
                        </li>
                        <li class="TAB3 font-weight-bold" style="width: 15% !important">
                          Dateityp
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc" data-name="tags"></i> -->
                        </li>
                        <li class="TAB4 font-weight-bold" style="width: 15% !important">
                          Dateigröße
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc" data-name="tags"></i> -->
                        </li>

                        <li class="TAB5 font-weight-bold" style="width: 15% !important">
                          Datum des Uploads
                          <!-- <i class="fas fa-sort-down" [appSort]="pagedItemsGDOC" data-order="asc"
                            data-name="Start_of_contract"></i> -->
                        </li>

                        <li class="TAB6 font-weight-bold" style="width: 15% !important">
                          Interaktionen
                        </li>
                      </ul>
                    </div>
                    <div class="accordion-list-main">
                      <div class="accordion-list-item" *ngFor="let cl of pagedItemsGDOC; let i = index">
                        <ul
                          [ngStyle]="{'background-color':i % 2 === 0 ? 'rgba(246, 246, 246, 0.831)' : null,'color': i % 2 === 0 ? '#3A3D44D4' : null, 'border-bottom': i % 2 === 0 ? '1px solid #0592D42E' : null,'border-top': i % 2 === 0 ? '1px solid #0592D42E' : null}"
                          style="border-radius: 10px 10px;"
                          class="accordion-list-data list-unstyled m-0 p-2 d-flex justify-content-between align-items-center"
                          id="ul{{ cl.element.id }}">
                          <li class="TAB1">
                            {{ startRecordGDOC + i }}
                          </li>

                          <li class="TAB2" style="width: 40% !important" *ngIf="
              cl.element.document_name.includes(
                '(Abgelaufen)'
              );
              else Gewerbeanmeldung
            ">
                            {{
                            cl.element.document_name.replace(
                            "(Abgelaufen)",
                            ""
                            )
                            }}
                            <span Style="color: red"> (Abgelaufen) </span>
                          </li>

                          <ng-template #Gewerbeanmeldung>
                            <li class="TAB2" style="width: 40% !important" *ngIf="
                cl.element.document_name.includes(
                  'Geschäftsanmeldung'
                );
                else videoorlogo
              ">
                              Gewerbeanmeldung
                              <span Style="color: green" *ngIf="
                  checkforverified(
                    cl.element.document_name
                  ) != undefined;
                  else unverified
                ">
                                (Verifiziert)
                              </span>
                            </li>
                          </ng-template>

                          <ng-template #videoorlogo>
                            <li class="TAB2" style="width: 40% !important" *ngIf="
                cl.element.document_name.includes(
                  'Willkommensvideo'
                ) ||
                  cl.element.document_name.includes('Logo');
                else verifieddoc
              ">
                              {{ cl.element.document_name }}
                            </li>
                          </ng-template>

                          <ng-template #verifieddoc>
                            <li class="TAB2" style="width: 40% !important" *ngIf="
                cl.element.document_name.includes(
                  'Ausweisdokument Vertretungsberechtigte Person'
                );
                else verifieddoc2
              ">
                              {{ cl.element.ceo_doc_name }}
                              <span Style="color: green" *ngIf="
                  checkforverified(
                    cl.element.document_name
                  ) != undefined;
                  else unverified
                ">
                                (Verifiziert)
                              </span>
                            </li>
                          </ng-template>

                          <ng-template #unverified>
                            <span Style="color: orange"> (In Prüfung) </span>
                          </ng-template>

                          <ng-template #verifieddoc2>
                            <li class="TAB2" style="width: 40% !important">
                              {{ cl.element.document_name }}
                              <span Style="color: green" *ngIf="
                  checkforverified(
                    cl.element.document_name
                  ) != undefined;
                  else unverified
                ">
                                (Verifiziert)
                              </span>
                            </li>
                          </ng-template>

                          <li class="TAB3" style="width: 15% !important">
                            {{ cl.filetype }}
                          </li>
                          <li class="TAB4" style="width: 15% !important">
                            {{ cl.size }}
                          </li>

                          <li class="TAB5" style="width: 15% !important">
                            {{ cl.date_of_upload }}
                          </li>

                          <li class="TAB6 mb-2" style="width: 15% !important">
                            <button type="button"
                              class="openclassthirddoc offnen-cls btn button-primary btn-sm add-assigment mr-2 py-1 transitionanimation"
                              style="
                transition: background 0.4s
                    cubic-bezier(0.25, 0.8, 0.25, 1),
                  box-shadow 280ms
                    cubic-bezier(0.4, 0, 0.2, 1);
              " (click)="
                previewthirddoc(
                  cl.element.document_url,
                  cl.element.tags,
                  cl.element.document_unique_id,
                  cl.element.companycode,
                  cl.element.brand,
                  cl.element.document_name,
                  cl.element.createdAt,
                  cl.element.id,
                  cl.element.created_byname,
                  cl.element.ticket_no
                )
              " id="clickthirddoc{{ cl.element.id }}">
                              Öffnen
                            </button>

                          </li>
                        </ul>
                        <div class="col-md-12">
                          <div id="previewthirddoc{{ cl.element.id }}" class="previewclass"></div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="d-flex justify-content-end pagination-main mt-3">
                    <ul *ngIf="pagedItemsGDOC.length" class="pagination m-0 pagerAction">
                      <li [ngClass]="{
          disabled: pagerGDOC.currentPage === 1
        }" class="page-item">
                        <a (click)="setPage(1, true)" class="page-link">
                          << </a>
                      </li>
                      <li [ngClass]="{
          disabled: pagerGDOC.currentPage === 1
        }" class="page-item">
                        <a (click)="setPage(pagerGDOC.currentPage - 1, true)" class="page-link">
                          < </a>
                      </li>
                      <li *ngFor="let page of pagerGDOC.pages" [ngClass]="{
          active: pagerGDOC.currentPage === page
        }" class="page-item">
                        <a (click)="setPage(page, true)" class="page-link">{{
                          page
                          }}</a>
                      </li>
                      <li [ngClass]="{
          disabled:
            pagerGDOC.currentPage === pagerGDOC.totalPages
        }" class="page-item">
                        <a (click)="setPage(pagerGDOC.currentPage + 1, true)" class="page-link">></a>
                      </li>
                      <li [ngClass]="{
          disabled:
            pagerGDOC.currentPage === pagerGDOC.totalPages
        }" class="page-item">
                        <a (click)="setPage(pagerGDOC.totalPages, true)" class="page-link">
                          >>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>


  </div>
</div>

<!-- Quesion Model -->
<button type="button" class="btn btn-primary" data-toggle="modal" id="openmodalforquestion" style="display: none"
  data-target="#exampleModalLong111asdasdasd">
  Launch demo modal
</button>

<div class="modal fade come-from-modal right" style="z-index: 1" id="exampleModalLong111asdasdasd" tabindex="undefined"
  role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 50%">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Antworten</h5>

        <button type="button" id="closequestionmodel" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form [formGroup]="addquestionformgroup" #question="ngForm">
          <div class="form-body">
            <div class="col-md-12">
              <div class="col-md-12" style="display: inline-block; vertical-align: top">
                <div class="col-md-12">
                  <span *ngIf="viewquestiondata.questionname != ''" style="font-weight: bold; font-size: 20px">
                    Frage: {{ viewquestiondata.questionname }} </span><br />
                </div>

                <div class="col-md-12" *ngIf="viewquestiondata.type == 'input'">
                  <input type="hidden" id="selectedquestion" />

                  <div *ngIf="viewquestiondata.option3 == 'Kurze Antwort'" class="col-md-12 p-0"
                    style="display: inline-block; margin-top: 26px">
                    <mat-form-field appearance="outline" style="width: 100%">
                      <mat-label>Antwort eingeben
                        <span style="color: red" *ngIf="viewquestiondata.option == 'Erforderlich'">*</span>
                      </mat-label>
                      <input matInput formControlName="ansinput" placeholder="Antwort eingeben" />
                    </mat-form-field>
                  </div>
                  <div *ngIf="viewquestiondata.option3 == 'Lange Antwort'" class="col-md-12 p-0"
                    style="display: inline-block; margin-top: 26px">
                    <mat-form-field appearance="outline" style="width: 100%">
                      <mat-label>Antwort eingeben
                        <span style="color: red" *ngIf="viewquestiondata.option == 'Erforderlich'">*</span>
                      </mat-label>
                      <textarea matInput formControlName="ansinput" placeholder="Antwort eingeben" rows="5"></textarea>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12 p-0" style="display: inline-block" *ngIf="
                      viewquestiondata.option5 == 'Ja' &&
                      viewquestiondata.option6 == 'Single date'
                    ">
                    <mat-form-field appearance="outline" style="width: 100%">
                      <mat-label>Datum auswählen<span style="color: red"
                          *ngIf="viewquestiondata.option7 == 'Erforderlich'">*</span>
                      </mat-label>
                      <input matInput [matDatepicker]="picker" placeholder="Datum auswählen"
                        formControlName="singledate" />
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker format="dd\MM\yyyy"></mat-datepicker>
                    </mat-form-field>
                  </div>

                  <div class="row">
                    <div class="col-md-6" *ngIf="
                        viewquestiondata.option5 == 'Ja' &&
                        viewquestiondata.option6 == 'Date range'
                      ">
                      <mat-form-field appearance="outline" style="width: 100%">
                        <mat-label>Von
                          <span style="color: red" *ngIf="viewquestiondata.option7 == 'Erforderlich'">*</span>
                        </mat-label>
                        <input formControlName="fromdate" matInput [matDatepicker]="picker" placeholder="Von" />
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker format="dd\MM\yyyy"></mat-datepicker>
                      </mat-form-field>
                    </div>

                    <div class="col-md-6" *ngIf="
                        viewquestiondata.option5 == 'Ja' &&
                        viewquestiondata.option6 == 'Date range'
                      ">
                      <mat-form-field appearance="outline" style="width: 100%">
                        <mat-label>Bis
                          <span style="color: red" *ngIf="viewquestiondata.option7 == 'Erforderlich'">*</span>
                        </mat-label>
                        <input formControlName="todate" matInput [matDatepicker]="picker" placeholder="Bis" />
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker format="dd\MM\yyyy"></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="col-md-12 p-0" *ngIf="viewquestiondata.option2 == 'Ja'"
                    style="display: inline-block; margin-top: 10px">
                    <div style="cursor: pointer" class="upload-file bg-primary2 rounded p-l-30 position-relative">
                      <input style="height: 253px" type="file" accept="image/*,application/pdf"
                        class="upload-files w-100 position-absolute" id="ansfile" formControlName="ansfile"
                        (change)="uploadansfile($event)" />
                      <!-- <p style="
font-size: 14px;
font-weight: 700;
text-align: center;
margin: revert ;
" class="text-bodycolor font-18 m-b-0">
                  Upload Bonitätsprüfung

                </p> -->
                      <div class="mt-3" style="text-align: center">
                        <div class="icons-img">
                          <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="icons-img">
                          <i class="far fa-file-image"></i>
                        </div>
                        <div class="icons-img">
                          <i class="fas fa-video"></i>
                        </div>
                      </div>

                      <div style="display: block; margin: 0 auto">
                        <div class="up-file-wrap" style="text-align: center">
                          <i style="font-size: 25px; padding: 0px 37px"
                            class="fas fa-file-upload font-24 p-r-15 align-self-center"></i>
                          <p style="
                              font-size: 12px;
                              font-weight: 600;
                              text-align: center;
                            " class="text-bodycolor font-18 m-b-0">
                            Dokumente für Upload wählen oder einfach hierhin
                            ziehen.
                            <span style="color: red" *ngIf="viewquestiondata.option1 == 'Erforderlich'">Upload
                              erfoderlich</span><span style="color: red" *ngIf="
                                viewquestiondata.option[1] ==
                                'Nicht erforderlich'
                              ">Upload optional</span>
                          </p>
                        </div>
                      </div>
                    </div>
                    <div id="showcheckup" class="col-md-12" style="text-align: center"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" (click)="giveanswer()" [disabled]="question.form.valid && editedans ? false : true"
          class="btn button-primary btn-sm add-assigment mr-3 mt-3 action-edit ng-star-inserted">
          Antwort senden
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Quesion Model -->
<button type="button" class="btn btn-primary" data-toggle="modal" id="openmodelcustomerlist" style="display: none"
  data-target="#exampleModalLong111asdasdasdasdasd">
  Launch demo modal
</button>

<div class="modal fade come-from-modal right" style="z-index: 1" id="exampleModalLong111asdasdasdasdasd"
  tabindex="undefined" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document" style="max-width: 80%">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          Kundenliste
          <!-- Kunde suchen: -->
        </h5>
        &nbsp;&nbsp;
        <form action="" class="w-100">
          <div class="row" style="width: 530px">
            <div class="form-group col-md-8 position-relative customer-managment-content-main" style="margin: 0">
              <mat-icon (click)="onSubmit()" class="position-absolute has-icon">search</mat-icon>
              <input class="form-control pl-5 mr-4" name="search" placeholder="z.b. Benutzer ID, Name" type="text"
                id="searchid" (keyup)="onKey($event)" />
            </div>
          </div>
        </form>
        <button type="button" id="closequestionmodel" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">E-Mail</th>
              <th scope="col">Rolle</th>
              <th scope="col">Kunden Nr.</th>
              <th scope="col">Interaktionen</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let customer of customerList; let i = index">
              <th scope="row">{{ i + 1 }}</th>
              <td>
                <span *ngIf="customer.title == 'Firma'; else noFirma">{{
                  customer.companyname
                  }}</span>
                <ng-template #noFirma><span>{{ customer.firstname }} {{ customer.lastname }}</span>
                </ng-template>
              </td>
              <td>{{ customer.email }}</td>
              <td>
                <div *ngIf="customer.roles.length == 0">Benutzer</div>
                <span *ngFor="let role of customer.roles">
                  <div *ngIf="role == 'employee'">Mitarbeiter</div>
                  <div *ngIf="role == 'b2b'">B2B</div>
                  <div *ngIf="role == 'customer'">Kunde</div>
                  <div *ngIf="role == 'admin'">Admin</div>
                  <div *ngIf="role == 'Benutzer'">Benutzer</div>
                  <div *ngIf="role == ''">Benutzer</div>
                  <div *ngIf="role == 'Superadmin'">Superadmin</div>
                </span>
              </td>
              <td>{{ customer.customerno }}</td>
              <th scope="col" style="padding: 2px; text-align: center">
                <p style="
                    font-size: 12px;
                    background-color: #184397;
                    padding: 8px;
                    border-radius: 5px;
                    /* margin: 5px; */
                    color: white;
                    cursor: pointer;
                    margin: 0px;
                  " (click)="startchat(customer._id)">
                  Chat beginnen
                </p>
              </th>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<button id="openAllgemeinePreiveiwmodal" type="button" data-toggle="modal" style="display: none"
  data-target="#openAllgemeinePreiveiw">
  ddd
</button>

<div id="openAllgemeinePreiveiw_parent">
  <div class="modal fade" id="openAllgemeinePreiveiw" tabindex="-1" role="dialog"
    aria-labelledby="openAllgemeinePreiveiwTitle" aria-hidden="true">
    <div style="max-width: 80%;" class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <span id="showpreviewtitle"
            style="font-size: 28px;font-weight:500;border: none;background: transparent;opacity:1">
            <ng-container *ngIf="preViewData[0]?.document_name.includes('-1') ;else elseHead">
              {{ preViewData[0]?.document_name.slice(0,-2) }}:
            </ng-container>
            <ng-template #elseHead>
              {{preViewData[0]?.document_name}}:
            </ng-template>
          </span>
          <button type="button"
            style="border: none;background: transparent;opacity: 1;padding: 0 !important;width: 42px;" class=" "
            data-dismiss="modal" aria-label="Close"
            (click)="close_modal('openAllgemeinePreiveiw','openAllgemeinePreiveiw_parent')">
            <img width="50%" src="../../assets/icons/closs-customer-modal-red.svg" alt="">
          </button>
        </div>
        <div class="modal-body">

          <div class="col-md-12 d-flex flex-wrap p-0">
            <div class="col-md-4 d-flex flex-column p-0" style="cursor: pointer;color: black;border-radius: 10px;">
              <div class="accordion" id="accordionAllgemeine" *ngFor="let data of preViewData; let i = index;">
                <div class="card mb-2">
                  <div class="card-header p-0 m-0 " id="heading{{i}}" role="button" (click)="preViewIndexAllgeme = i">
                    <h2 class="m-0 p-0 ">
                      <!-- attr.aria-controls="collapseAllgemeine{{i}}"  data-toggle="collapse" attr.data-target="#collapseAllgemeine{{i}}"-->
                      <button style="font-family:Open Sans;font-weight:500;font-size:16px;border:none;"
                        class=" text-start btn button-primary w-100 m-0 p-3 text-white " type="button"
                        [aria-expanded]="i == 0 ? true:false">
                        {{i+1}}.{{data?.document_name}}-{{i+1}}
                      </button>
                    </h2>
                  </div>
                  <!-- attr.id="collapseAllgemeine{{i}}" class="collapse" -->
                  <div *ngIf="preViewIndexAllgeme == i" class="  " aria-labelledby="heading{{i}}"
                    data-parent="#accordionAllgemeine">
                    <div class="card-body" *ngIf="i== preViewIndexAllgeme">
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Dokumentenname:
                        </span>{{data?.document_name}} </div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Dateigröße:
                        </span>{{data?.metadata[0]}}Kb</div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Vorgangs Nr.:</span>
                        {{data?.ticket_no}} </div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Datum des Dokuments:
                        </span> {{data?.date_of_document}} </div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Datum des Uploads:
                        </span> {{data?.date_of_upload}} </div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Hochgeladen von: </span>
                        {{data?.created_byname}} </div>
                      <div class="previewAllgemeinesubhead"><span class="previewAllgemeinehead">Dateityp:</span>
                        {{data?.filetype}} </div>
                      <div class="previewAllgemeinesubhead">
                        <div class="d-flex flex-wrap p-0">
                          <span class="previewAllgemeinehead">Stichworte:</span>
                          <span class="previedocbox m-1">
                            {{data?.companycode}}
                          </span> &nbsp;
                          <span class="previedocbox m-1">
                            {{data?.brand}}
                          </span> &nbsp;
                          <span class="previedocbox m-1">
                            {{data?.ticket_no}}
                          </span>
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
              </div>
            </div>
            <ng-container *ngFor="let data of preViewData; let i = index;">
              <ng-container *ngIf="preViewIndexAllgeme == i">
                <div class="col-md-8">
                  <div class="col-12 rounded-2 p-2 d-flex flex-column align-items-end" style="border:1px solid #3085d6;"
                    [ngStyle]="{'min-height':data.filetype == 'application/pdf'? '620px':'420px' }">
                    <embed id="showpreviewdocument" [src]="data?.url" style="width: 100%; "
                      [ngStyle]="{'min-height':data.filetype == 'application/pdf'? '600px':'400px' }" />
                    <a [href]="data?.href" id="showpreviewdownload" target="_blank"
                      style="text-decoration:none;width:fit-content" class=" button-primary-down p-2 mt-1" download>
                      <span class=""><i class="fa fa-download " aria-hidden="true"></i>&nbsp;Download</span>
                    </a>
                  </div>
                </div>
              </ng-container>
            </ng-container>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>
