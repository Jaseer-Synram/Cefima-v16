<div class="loaderouter" id="loaderouterid">
    <div class="loader"></div>
</div>
<div class="app-background d-flex flex-column  p-0 table-min-height">
    <div class="table-section d-flex flex-column p-0">
        <div style="flex: unset">
            <div class="w-100 logo-sec-main d-flex flex-wrap justify-content-center align-items-center">
                <section style="width: 100%; min-height: 70vh" class="d-flex flex-column justify-content-between">
                    <div class="mt-3">
                        <div *ngIf="getHeader(consultStepper)"
                            class="col-md-12 px-4 py-3 d-flex justify-content-between align-items-center" style="
                background: #f2f2f2;
                border-radius: 6px;
                width: 98%;
                margin: auto;
              ">
                            <p *ngIf="heading" style="color: #454c58; font-weight: 400" class="m-0">
                                Um eine Beratung zu starten, wählen Sie bitte einen Kunden aus
                                oder legen Sie einen an.
                            </p>
                            <p *ngIf="!heading" class="m-0 d-flex align-items-center">
                                <span style="font-weight: 600; color: #454c58">Beratung</span>
                                <mat-icon style="
                    font-size: 15px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    color: #454c585e;
                  ">arrow_forward_ios</mat-icon>
                                <span style="font-weight: 700">Vorgangs Nr.: {{ nextCaseNumber }}</span>
                            </p>
                            <button (click)="stpperForm = !stpperForm" class="primary-btn gradient"
                                [hidden]="currentCustomer !== ''">
                                <span class="text-white" style="text-decoration: none">
                                    +&nbsp;Kunde anlegen
                                </span>
                            </button>
                        </div>
                        <mat-horizontal-stepper linear #consultStepper
                            ngClass="{{ 'last-edited-step-' + consultStepper.selectedIndex }}">
                            <ng-template matStepperIcon="edit">
                                <mat-icon>check</mat-icon>
                            </ng-template>
                            <mat-step>
                                <div class="w-75">
                                    <ng-template matStepLabel>
                                        <span>Kunden</span>
                                        <div class="underKundenHead rounded-sm ">{{itemToDisplayUnderKunden}}</div>
                                    </ng-template>
                                    <div class="mt-5 mb-4">
                                        <p class="m-0" style="color: #454c58; font-weight: 500; font-size: 20px">
                                            Bitte suchen und wählen Sie ein Unternehmen / Haushalt in
                                            der Suchleiste aus
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-center pl-1 pr-2 gradient py-1"
                                        style="border-radius: 10px">
                                        <mat-form-field
                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient my-mat-field"
                                            appearance="outline"
                                            style=" width: 100%;background: white;border-radius: 10px;">
                                            <!-- <mat-label>Haushalt / Firma
                                        auswählen
                                    </mat-label> -->
                                            <!-- (keyup.enter)="patchnationalityValue($event)" (ngModelChange)="
                                    patchnationalityValue($event)"  -->
                                            <input type="text" placeholder="Haushalt / Firma auswählen"
                                                aria-label="Number" matInput [formControl]="myControl"
                                                [matAutocomplete]="auto"
                                                (change)="currentCustomer = $any($event.target).value" />
                                            <mat-autocomplete #auto="matAutocomplete"
                                                (optionSelected)="patchnationalityValue($event)">
                                                <mat-option *ngFor="let employee of filteredOptions | async"
                                                    [value]="employee.name">
                                                    {{ employee.name }}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                        <mat-icon class="ml-2" style="color: white">search
                                        </mat-icon>
                                    </div>
                                    <!-- <p class="text-center" style="font-weight: 500;color:#454C58"><span>Antwort
                                            Eingeben</span>&nbsp;<span style="color: red">*</span></p>
                                    <div class="d-flex align-items-center px-1 gradient py-1"
                                        style="border-radius: 10px;">
                                        <mat-form-field appearance="outline"
                                            style="width: 100%;background: white;border-radius: 10px;"
                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin my-mat-field">
                                        
                                    <input matInput placeholder="Antwort eingeben" />
                                    </mat-form-field>
                                </div> -->
                                </div>
                                <!-- <div class="text-end mt-5">
                                    <button matStepperNext [disabled]="currentCustomer===''" type="button"
                                        [ngClass]="[currentCustomer==='' ? 'btn disabled-btn' : 'btn btn-primary primary-btn gradient']">
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div> -->
                            </mat-step>
                            <!-- 2ND STEP START -->
                            <mat-step>
                                <div class="w-75">
                                    <ng-template matStepLabel>
                                        <span>Ausgewählter Mitglied</span>
                                        <ng-container *ngIf="selectedBranchList.length > 0 else haushalt">
                                            <div class="underKundenHead rounded-sm "
                                                *ngFor="let member of selectedBranchList">
                                                {{ member.name }}
                                            </div>
                                        </ng-container>
                                        <ng-template #haushalt>
                                            <div class="underKundenHead rounded-sm ">
                                                <ng-container *ngFor="  let member of selectedMemberList">
                                                    {{ member.name }}
                                                </ng-container>
                                            </div>
                                        </ng-template>
                                    </ng-template>
                                    <div *ngIf="kundetype !== 'Firma'">
                                        <div class="mt-5 mb-4">
                                            <p class="m-0" style="color: #454c58; font-weight: 500; font-size: 20px; ">
                                                Bitte wählen Sie ein Haushaltsmitglied in der Suchleiste
                                                aus
                                            </p>
                                        </div>
                                        <div class="d-flex align-items-center pl-1 pr-2 gradient py-1"
                                            style="border-radius: 10px">
                                            <mat-form-field
                                                class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient"
                                                appearance="outline" style="
                          width: 100%;
                          background: white;
                          border-radius: 10px;
                        " *ngIf="showmembers">
                                                <!-- <mat-label>Haushaltsmitglied auswählen
                                    </mat-label> -->
                                                <!-- (keyup.enter)="patchmembervalue($event)"
                                        (ngModelChange)="patchmembervalue($event)" -->
                                                <input type="text" placeholder="Haushaltsmitglied auswählen"
                                                    aria-label="Number" matInput [formControl]="myControlnew"
                                                    [matAutocomplete]="auto1" />
                                                <mat-autocomplete #auto1="matAutocomplete"
                                                    (optionSelected)="patchmembervalue($event)">
                                                    <mat-option *ngFor="let employee of optionsValuemembers"
                                                        [value]="employee.name">
                                                        {{ employee.name }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                            <mat-icon class="ml-2" style="color: white">search
                                            </mat-icon>
                                        </div>
                                        <div *ngIf="selectedMemberList.length > 0" class="list-box text-start p-1 pt-2">
                                            <span class="ms-3" style="font-weight: 500;">Members List</span>
                                            <div
                                                class="d-flex flex-wrap justify-content-start align-items-center py-1 px-2 ">
                                                <div class="d-flex justify-content-between align-items-center py-1 px-2 gradient mt-2 ml-2"
                                                    style="border-radius: 10px; color: white"
                                                    *ngFor="  let member of selectedMemberList;  let i = index ">
                                                    <p class="m-0">
                                                        {{ member.name }}
                                                    </p>
                                                    <i role="button" class="fa fa-close ml-2" style="color: #ffffff8f"
                                                        (click)="deleteMemberFromList(i)"></i>
                                                </div>
                                                <!-- ml-2 bg-danger links p-1 border-radius -->
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="kundetype == 'Firma'">
                                        <div class="mt-5 mb-4">
                                            <p class="m-0"
                                                style=" color: #454c58;  font-weight: 500;  font-size: 20px;  ">
                                                Bitte wählen Sie ein Firma in der Suchleiste aus
                                            </p>
                                        </div>
                                        <div class="d-flex align-items-center pl-1 pr-2 gradient py-1"
                                            style="border-radius: 10px">
                                            <mat-form-field
                                                class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient"
                                                appearance="outline"
                                                style=" width: 100%; background: white; border-radius: 10px; ">
                                                <input type="text" placeholder="Firma auswählen" aria-label="Number"
                                                    matInput [formControl]="currentBranch"
                                                    [matAutocomplete]="branchAuto" />
                                                <mat-autocomplete #branchAuto="matAutocomplete"
                                                    (optionSelected)="setBranchList($event)">
                                                    <mat-option *ngFor="let branch of branchesOptions" [value]="branch">
                                                        {{ branch.name }}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                            <mat-icon class="ml-2" style="color: white">search
                                            </mat-icon>
                                        </div>
                                        <div *ngIf="selectedBranchList.length > 0" class="list-box text-start p-1 pt-2">
                                            <span class="ms-3" style="font-weight: 500;">Branches List</span>
                                            <div
                                                class="d-flex flex-wrap justify-content-start align-items-center py-1 px-2 mt-2">
                                                <div class="d-flex justify-content-center     align-items-center py-1 px-2 gradient mt-2 ml-2"
                                                    style="border-radius: 10px; color: white" *ngFor="
                            let member of selectedBranchList;
                            let i = index
                          ">
                                                    <p class="m-0">
                                                        {{ member.name }}
                                                    </p>
                                                    <i role="button" class="fa fa-close ml-2" style="color: #ffffff8f"
                                                        (click)="deleteBranchFromList(i)"></i>
                                                </div>
                                                <!-- bg-danger links p-1 border-radius -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="d-flex justify-content-between align-items-center mt-5">
                                    <button matStepperPrevious type="button"
                                        class="btn btn-primary primary-btn gradient">
                                        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                    </button>
                                    <button matStepperNext (click)="GoNext()"
                                        [disabled]="selectedBranchList.length==0&&selectedMemberList.length==0"
                                        type="button"
                                        [ngClass]="[selectedBranchList.length==0&&selectedMemberList.length==0 ? 'btn disabled-btn' : 'btn btn-primary nextBtn primary-btn gradient']">
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div> -->
                            </mat-step>
                            <!-- STEP - 2 END HERE -->
                            <!-- STEP - 3 START HERE -->
                            <mat-step>
                                <!-- <app-select-consulting (data)="'hi'" (contractType)="contractType"></app-select-consulting> -->
                                <ng-template matStepLabel>
                                    <span>Auswahlberatung</span>
                                    <div class="underKundenHead rounded-sm ">{{itemToDisplayUnderAuswahlberatung}}</div>
                                </ng-template>
                                <!-- <mat-step label="Auswahlberatung"> -->
                                <div class="text-center mt-5 w-50 mx-auto" style="color: gray;">
                                    <p class="m-0" class="m-0"
                                        style="color: #454c58; font-weight: 500; font-size: 20px">Bitte wählen
                                        Sie aus,welchen
                                        Vorgang Sie für Ihren Kunden starten möchten</p>
                                </div>
                                <div class="d-flex justify-content-center align-items-center w-100 m-auto mt-5 p-3">
                                    <div role="button" (mouseover)="hoverOnKunden = true"
                                        (mouseleave)=" hoverOnKunden = false" (click)="setContractType('privatkunde')"
                                        class="d-flex flex-column align-items-center justify-content-center mr-2"
                                        style="width:250px;height:250px;border-radius:6px;border:1px solid #02a8ec;"
                                        [ngClass]="{'gradient':hoverOnKunden}">
                                        <img *ngIf="!hoverOnKunden" src="assets/kundendaten.svg">
                                        <img *ngIf="hoverOnKunden" src="assets/kundendaten-active.svg">
                                        <p class="m-0 mt-3 w-50 text-center"
                                            [ngStyle]="{'color':hoverOnKunden? 'white' : '#02a8ec' }">
                                            KUNDENDATEN
                                            AKTUALISIEREN</p>
                                    </div>


                                    <div role="button" (click)="setContractType('firmakunde')"
                                        (mouseover)="hoverOnproduktberatung = true"
                                        (mouseleave)=" hoverOnproduktberatung = false"
                                        class="d-flex flex-column align-items-center justify-content-center ml-2"
                                        style="width:250px;height:250px;border-radius:6px;border:1px solid #02a8ec;"
                                        [ngClass]="{'gradient':hoverOnproduktberatung }">
                                        <img *ngIf="!hoverOnproduktberatung" src="assets/produktberatung.svg">
                                        <img *ngIf="hoverOnproduktberatung" src="assets/produktberatung-active.svg">
                                        <p class="m-0 mt-3 w-50 text-center"
                                            [ngStyle]="{'color':hoverOnproduktberatung ? 'white' : '#02a8ec' }">
                                            PRODUKTBERATUNG
                                            STARTEN</p>
                                    </div>
                                </div>
                                <!-- <div class="d-flex justify-content-between align-items-center mt-5">
                                    <button matStepperPrevious type="button"
                                        class="btn btn-primary primary-btn gradient">
                                        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                    </button>
                                    <button matStepperNext [disabled]="contractType===''" type="button"
                                        [ngClass]="[contractType==='' ? 'btn disabled-btn' : 'btn btn-primary nextBtn primary-btn gradient']"
                                        (click)="heading=false;getCaseNumber()">
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div> -->
                            </mat-step>
                            <!-- STEP - 3 END HERE -->
                            <!-- 4TH STEP START -->
                            <mat-step>
                                <ng-template matStepLabel>
                                    <span>Fragetyp</span>
                                    <div class="underKundenHead rounded-sm "
                                        *ngFor="let product of selectedProductTypeList;">{{product.name}}</div>
                                </ng-template>
                                <div *ngIf="contractType === 'firmakunde'" class="w-75">
                                    <div class="mt-5 mb-4" style="color: #454c58; font-weight: 500; font-size: 20px">
                                        <p class="m-0">
                                            Bitte wählen Sie ein oder mehrere Produkttypen für Ihren
                                            Kunden aus
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-center pl-1 pr-2 gradient py-1"
                                        style="border-radius: 10px">
                                        <mat-form-field
                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient"
                                            appearance="outline" style="
                                                width: 100%;
                                                background: white;
                                                border-radius: 10px;
                                                color: black;
                                            ">
                                            <!-- <mat-label> Produkttyp eingeben </mat-label> -->
                                            <input type="text" aria-label="Number" matInput
                                                placeholder="Produkttyp eingeben" (keyup)="filterProductType($event)"
                                                [matAutocomplete]="filterProduct"
                                                [formControl]="currentSelectedProduct" />
                                            <mat-autocomplete #filterProduct="matAutocomplete"
                                                (optionSelected)="patchProductTpyeValue($event)">
                                                <mat-option *ngFor="
                                                    let producttype of filteredProductsTypeOptions
                                                " [value]="producttype">{{ producttype.name }}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                        <mat-icon class="ml-2" style="color: white">search
                                        </mat-icon>
                                    </div>
                                    <div *ngIf="selectedProductTypeList.length > 0"
                                        class="list-box text-start p-1 pt-2">
                                        <span class="ms-3" style="font-weight: 500;">Produkts List</span>
                                        <div
                                            class="d-flex flex-wrap justify-content-start align-items-center py-1 px-2 mt-2">
                                            <div class="d-flex justify-content-between align-items-center py-1 px-2 gradient mt-2 ml-2"
                                                style="border-radius: 10px; color: white" *ngFor="
                          let product of selectedProductTypeList;
                          let i = index
                        ">
                                                <p class="m-0">{{ product.name }}</p>
                                                <i role="button" class="fa fa-close ml-2" style="color: #ffffff8f"
                                                    (click)="deleteProductTypeFromList(i, product)"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="contractType === 'privatkunde'" class="w-75">
                                    <div class="mt-5 mb-4" style="color: #454c58; font-weight: 500; font-size: 20px">
                                        <p class="m-0">
                                            Bitte wählen Sie ein oder mehrere Dashboard für Ihren
                                            Kunden aus
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-center pl-1 pr-2 gradient py-1"
                                        style="border-radius: 10px">
                                        <mat-form-field
                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient"
                                            appearance="outline" style="
                                                width: 100%;
                                                background: white;
                                                border-radius: 10px;
                                            ">
                                            <!-- <mat-label> Produkttyp eingeben </mat-label> -->
                                            <input type="text" placeholder="Choose Dashboard" aria-label="Number"
                                                matInput (keyup)="filterTabsList($event)" [matAutocomplete]="filterTabs"
                                                [formControl]="currentSelectedTab" />
                                            <mat-autocomplete #filterTabs="matAutocomplete"
                                                (optionSelected)="setSelectedTabList($event)">
                                                <mat-option *ngFor="let tab of filteredTabsList" [value]="tab">{{
                                                    tab.tab }}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                        <mat-icon class="ml-2" style="color: white">search
                                        </mat-icon>
                                    </div>
                                    <div *ngIf="selectedTabList.length > 0" class="list-box text-start p-1 pt-2">
                                        <span class="ms-3" style="font-weight: 500;">Tabs List</span>
                                        <div
                                            class="d-flex flex-wrap justify-content-start align-items-center py-1 px-2 mt-2">
                                            <div class="d-flex justify-content-between align-items-center py-1 px-2 gradient mt-2 ml-2"
                                                style="border-radius: 10px; color: white"
                                                *ngFor="let tab of selectedTabList; let i = index">
                                                <p class="m-0">{{ tab.tab }}</p>
                                                <i role="button" class="fa fa-close ml-2" style="color: #ffffff8f"
                                                    (click)="deleteTabFromTabList(i, tab)"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="d-flex justify-content-between align-items-center mt-5">
                                    <button matStepperPrevious type="button"
                                        class="btn btn-primary primary-btn gradient" (click)="heading=true">
                                        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                    </button>
                                    <button *ngIf="contractType==='privatkunde'" data-toggle="modal"
                                        data-target="#questionAnswerModal" type="button"
                                        [ngClass]="[selectedTabList.length===0 ? 'btn disabled-btn' : 'btn btn-primary primary-btn gradient']"
                                        (click)="open_modal('questionAnswerModal');getQuestionsForTabs()"
                                        [disabled]="selectedTabList.length===0">
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                    <button *ngIf="contractType==='firmakunde'" data-toggle="modal"
                                        data-target="#questionAnswerModal" type="button"
                                        [ngClass]="[selectedProductTypeList.length===0 ? 'btn disabled-btn' : 'btn btn-primary primary-btn gradient']"
                                        (click)="open_modal('questionAnswerModal');getQuestionsForProductType()"
                                        [disabled]="selectedProductTypeList.length===0">
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div> -->
                            </mat-step>
                            <!-- [disabled]="selectedTabList.length===0" -->
                            <!-- [formControl]="ProductsTypeControl" -->
                        </mat-horizontal-stepper>
                    </div>
                    <div class="d-flex justify-content-between align-items-end mb-4 mx-auto"
                        style="width: 98%; height: 150px">
                        <button type="button" (click)="goBack(consultStepper)"
                            class="btn btn-primary primary-btn gradient" [hidden]="hiddenPrevButton(consultStepper)">
                            <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                        </button>
                        <button type="button" (click)="goForward(consultStepper)"
                            [disabled]="nextDisabled(consultStepper)" [ngClass]="[
                nextDisabled(consultStepper)
                  ? 'btn btn-secondary  ml-auto'
                  : 'btn btn-primary primary-btn gradient ml-auto'
              ]" [hidden]="hiddenNextButton(consultStepper)">
                            Weiter&nbsp;
                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                        </button>
                        <!-- *ngIf="contractType!=='privatkunde'" -->
                        <button *ngIf="contractType === 'privatkunde'" data-toggle="modal"
                            data-target="#questionAnswerModal" type="button" [ngClass]="[
                selectedTabList.length === 0
                  ? 'btn btn-secondary '
                  : 'btn btn-primary primary-btn gradient'
              ]" (click)="open_modal('questionAnswerModal'); getQuestionsForTabs()"
                            [disabled]="selectedTabList.length === 0" [hidden]="hiddenLastButton(consultStepper)">
                            Weiter&nbsp;
                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                        </button>
                        <button *ngIf="contractType === 'firmakunde'" data-toggle="modal"
                            data-target="#questionAnswerModal" type="button" [ngClass]="[
                selectedProductTypeList.length === 0
                  ? 'btn btn-secondary '
                  : 'btn btn-primary primary-btn gradient'
              ]" (click)="
                open_modal('questionAnswerModal'); getQuestionsForProductType()
              " [disabled]="selectedProductTypeList.length === 0" [hidden]="hiddenLastButton(consultStepper)">
                            Weiter&nbsp;
                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                        </button>
                    </div>
                </section>
            </div>
            <div *ngIf="stpperForm">
                <!-- <app-create-customer  [componentname]="componentname"></app-create-customer> -->
            </div>
        </div>
    </div>
</div>
<div id="questionAnswerModal_parent">
    <div class="modal fade p-0" id="questionAnswerModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLongTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false"
        style="overflow: hidden">
        <div class="modal-dialog" style="max-width: 95%; height: 95%; overflow-y: initial" role="document">
            <div class="modal-content" style="height: 95%">
                <div class="modal-header d-flex justify-content-between align-items-center">
                    <div class="col-md-6 px-2 py-1 d-flex align-items-center"
                        style="background: #f2f2f2; border-radius: 6px">
                        <span style="font-weight: 600; color: #454c58; font-size: 15px">Beratung für</span>
                        <mat-icon style="
                font-size: 15px;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #454c585e;
              ">
                            arrow_forward_ios</mat-icon>
                        <span *ngIf="selectedMemberList.length !== 0" class="stepper-pill"><i class="fa fa-user mr-2"
                                aria-hidden="true"></i>{{ selectedMemberList[0].name }}</span>
                        <span *ngIf="selectedBranchList.length !== 0" class="stepper-pill"><i class="fa fa-user mr-2"
                                aria-hidden="true"></i>{{ selectedBranchList[0].name }}</span>
                        <mat-icon style="
                font-size: 15px;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #454c585e;
              ">
                            arrow_forward_ios</mat-icon>
                        <span class="stepper-pill"><i class="fa fa-users mr-2" aria-hidden="true"></i>{{
                            currentUserInfo.firstname }}&nbsp;{{
                            currentUserInfo.lastname
                            }}</span>
                        <mat-icon *ngIf="contractType === 'firmakunde'" style="
                font-size: 15px;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #454c585e;
              ">
                            arrow_forward_ios</mat-icon>
                        <span *ngIf="contractType === 'firmakunde'"
                            style="font-weight: 600; color: #454c58; font-size: 15px">Vorgangs Nr.: {{ nextCaseNumber
                            }}</span>
                    </div>
                    <button type="button" id="QAModalClose" class="transitionanimation hover-grow" data-dismiss="modal" (click)="
              close_modal('questionAnswerModal', 'questionAnswerModal_parent')
            " aria-label="Close" style="
              text-align: center;
              background: transparent;
              border: none;
              font-size: 30px;
            ">
                        <span aria-hidden="true"><mat-icon>close</mat-icon></span>
                    </button>
                </div>
                <div class="modal-body overflow-auto">
                    <mat-horizontal-stepper #QAStepper style="height: 100%">
                        <ng-template matStepperIcon="edit">
                            <mat-icon>check</mat-icon>
                        </ng-template>
                        <mat-step style="height: 100%">
                            <div class="container-fluid d-flex flex-column justify-content-between">
                                <ng-template matStepLabel>
                                    <span>Persönliche Daten</span>
                                </ng-template>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div *ngIf="kundetype != 'Firma'"
                                            class="p-2 h-100 d-flex flex-column justify-content-start" style="
                        overflow-y: auto;
                        background-image: linear-gradient(#02a9ed, #17459b);
                        border-radius: 6px;
                        min-height: 58vh !important;
                        max-height: 65vh;
                      ">
                                            <div role="button" style="background: #ffffff38"
                                                class="rounded p-2 text-white mt-3"
                                                *ngFor="let member of selectedMemberList; let i = index"
                                                (click)="setCurrentUserInfo(member.id)">
                                                <p [ngClass]="
                            member.id === currentUserInfo._id
                              ? 'text-white m-0'
                              : 'gray-col m-0'
                          ">
                                                    {{ member.name }}
                                                </p>
                                            </div>
                                        </div>
                                        <div *ngIf="kundetype == 'Firma'"
                                            class="p-2 h-100 d-flex flex-column justify-content-start" style="
                        overflow-y: auto;
                        background-image: linear-gradient(#02a9ed, #17459b);
                        border-radius: 6px;
                        min-height: 58vh !important;
                        max-height: 65vh;
                      ">
                                            <div role="button" style="background: #ffffff38"
                                                class="rounded p-2 text-white mt-3"
                                                *ngFor="let branch of selectedBranchList; let i = index"
                                                (click)="setCurrentUserInfo(branch.id)">
                                                <p [ngClass]="
                            branch.id === currentUserInfo._id
                              ? 'text-white m-0'
                              : 'gray-col m-0'
                          ">
                                                    {{ branch.name }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-body" *ngIf="currentUserInfo && currentUserInfo._id">
                                            <div class="row">
                                                <div role="button" class="Persönliche-Informationen mb-3" (click)="
                            opened_tab.personal_data = !opened_tab.personal_data
                          ">
                                                    <span><img src="assets/personliche-2.svg" /></span>
                                                    <h2>Persönliche Daten</h2>
                                                    <p>
                                                        <img src="assets/dwon.png" class="opened-arrow"
                                                            *ngIf="opened_tab.personal_data" />
                                                        <img src="assets/dwon.png" class="closed-arrow"
                                                            *ngIf="!opened_tab.personal_data" />
                                                    </p>
                                                </div>
                                                <div [ngClass]="
                            opened_tab.personal_data ? 'row' : 'd-none'
                          ">
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Anrede</mat-label>
                                                            <mat-select matNativeControl value="{{
                                  currentUserInfo.usertitle
                                    ? currentUserInfo.usertitle
                                    : currentUserInfo.title
                                }}" style="font-size: 12px">
                                                                <mat-option value="Herr">Herr</mat-option>
                                                                <mat-option value="Frau">Frau</mat-option>
                                                                <mat-option value="Divers">Divers</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Vorname</mat-label>
                                                            <input matInput readonly
                                                                value="{{ currentUserInfo.firstname }}"
                                                                placeholder="Vorname" />
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Nachname</mat-label>
                                                            <input matInput readonly
                                                                value="{{ currentUserInfo.lastname }}"
                                                                placeholder="Nachname" />
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Geburtsdatum</mat-label>
                                                            <input matInput readonly [matDatepicker]="picker"
                                                                placeholder="Geburtsdatum"
                                                                value="{{ currentUserInfo.dateofbirth }}" />
                                                            <mat-datepicker-toggle matSuffix [for]="picker">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker #picker format="dd\MM\yyyy">
                                                            </mat-datepicker>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>E-Mail</mat-label>
                                                            <input matInput readonly value="{{ currentUserInfo.email }}"
                                                                placeholder="E-Mail" />
                                                        </mat-form-field>
                                                        <img src="./assets/email_120x120.png"
                                                            class="mr-2 editEmailVLogo"
                                                            *ngIf="localData.email_verify == 1" />
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Geburtsort</mat-label>
                                                            <input matInput readonly value="{{
                                  currentUserInfo.birth_place
                                    ? currentUserInfo.birth_place
                                    : currentUserInfo.city
                                }}" placeholder="Geburtsort" />
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Telefonnummer</mat-label>
                                                            <input matInput readonly id="contactnum" class="test"
                                                                placeholder="Telefonnummer" type="tel" value="{{
                                  currentUserInfo.contactno
                                    ? currentUserInfo.contactno
                                    : currentUserInfo.phoneno
                                }}" />
                                                        </mat-form-field>
                                                        <img src="./assets/phone_verified_120x120.png"
                                                            class="mr-2 ml-2 editPhoneVLogo"
                                                            *ngIf="localData.mobile_verify == 1" />
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Vermittler</mat-label>
                                                            <input matInput readonly placeholder="Vermittler" />
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <mat-form-field appearance="outline" style="width: 100%">
                                                            <mat-label>Benutzer Nr.</mat-label>
                                                            <input matInput readonly placeholder="Benutzer Nr." value="{{
                                  currentUserInfo.customerno
                                    ? currentUserInfo.customerno
                                    : 'NA'
                                }}" />
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <div role="button" class="Persönliche-Informationen mb-3" (click)="
                            opened_tab.official_residence =
                              !opened_tab.official_residence
                          ">
                                                    <span><img src="assets/PERSONLICHE.svg" /></span>
                                                    <h2>Wohnsitz</h2>
                                                    <p>
                                                        <img src="assets/dwon.png" class="opened-arrow"
                                                            *ngIf="opened_tab.official_residence" />
                                                        <img src="assets/dwon.png" class="closed-arrow"
                                                            *ngIf="!opened_tab.official_residence" />
                                                    </p>
                                                </div>
                                                <div [ngClass]="
                            opened_tab.official_residence ? '' : 'd-none'
                          ">
                                                    <div class="row">
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>Straße</mat-label>
                                                                <input matInput readonly placeholder="Straße"
                                                                    value="{{ currentUserInfo.strassa }}" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>Nr.</mat-label>
                                                                <input matInput readonly placeholder="Nr."
                                                                    value="{{ currentUserInfo.strno }}" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>PLZ</mat-label>
                                                                <input matInput readonly placeholder="PLZ"
                                                                    value="{{ currentUserInfo.plz }}" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>Stadt</mat-label>
                                                                <input matInput readonly placeholder="Stadt"
                                                                    value="{{ currentUserInfo.city }}" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>C/O Appartmentnummer, Türcode, usw.
                                                                </mat-label>
                                                                <input matInput readonly
                                                                    placeholder="C/O Appartmentnummer, Türcode, usw."
                                                                    value="{{
                                    currentUserInfo.additionalReference
                                  }}" />
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="form-group col-md-4">
                                                            <mat-form-field appearance="outline" style="width: 100%">
                                                                <mat-label>Land des Wohnsitzes</mat-label>
                                                                <input matInput readonly
                                                                    placeholder="Land des Wohnsitzes"
                                                                    value="{{ currentUserInfo.current_country }}" />
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <hr />
                                    <div class="text-right">
                                        <button class="btn btn-primary primary-btn gradient" matStepperNext>
                                            Weiter&nbsp;
                                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </mat-step>
                        <mat-step style="height: 100%">
                            <div class="container-fluid d-flex flex-column justify-content-between">
                                <ng-template matStepLabel>
                                    <span>Frage</span>
                                </ng-template>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="p-2 h-100 d-flex flex-column justify-content-start" style="
                        overflow-y: auto;
                        background-image: linear-gradient(#02a9ed, #17459b);
                        border-radius: 6px;
                        min-height: 58vh !important;
                        max-height: 65vh;
                      ">
                                            <div style="background-color: white; border-radius: 6px"
                                                class="m-0 mb-3 p-2 d-flex justify-content-between align-items-center">
                                                <span>Frage: {{ answeredCount() }} /
                                                    {{ questionCounter }}</span><img src="../assets/infoIcon.svg" />
                                            </div>
                                            <mat-accordion class="glass" style="border-radius: 10px">
                                                <mat-expansion-panel class="pb-0"
                                                    *ngFor="let member of questionList; let i = index"
                                                    [expanded]="userIndex === i">
                                                    <mat-expansion-panel-header (click)="
                                                    currentUser = member.userId; userIndex = i; tabIndex = null;
                                                    questionIndex = null  ">
                                                        <mat-panel-title [ngClass]="
                                                    member.userId === currentUser ? 'text-white m-0'
                                                    : 'gray-col m-0' ">
                                                            {{ member.name }}
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <mat-accordion>
                                                        <mat-expansion-panel class="pb-0"
                                                            *ngFor="let tab of member.tempList; let j = index"
                                                            [expanded]="tabIndex === j">
                                                            <mat-expansion-panel-header *ngIf="tab.list.length > 0"
                                                                (click)="
                                  setCurrentTab(tab.tabName);
                                  tabIndex = j;
                                  currentTab = tab.tabId;
                                  questionIndex = null
                                " #panel1>
                                                                <mat-panel-title [ngClass]="
                                    tab.tabId === currentTab
                                      ? 'text-white m-0'
                                      : 'gray-col m-0'
                                  ">
                                                                    {{ tab.tabName }}
                                                                </mat-panel-title>
                                                            </mat-expansion-panel-header>

                                                            <div *ngFor="let item of tab.list; let k = index"
                                                                class="d-flex justify-content-between align-items-center p-2">
                                                                <div role="button"
                                                                    class="d-flex justify-content-start align-items-center w-100"
                                                                    (click)="
                                    questionIndex = k;
                                    setCurrentQuestion(i, j, k, item)
                                  ">
                                                                    <div *ngIf="!item.validated" [ngClass]="
                                      i === currentQuestionObject.userIndex &&
                                      j === currentQuestionObject.tabIndex &&
                                      k === currentQuestionObject.questionIndex
                                        ? 'active-circle'
                                        : 'circle'  
                                    " class="mr-2 rounded-circle">
                                                                        {{ k + 1 }}
                                                                    </div>
                                                                    <div *ngIf="item.validated"
                                                                        class="mr-2 rounded-circle answered-circle">
                                                                        {{ k + 1 }}
                                                                    </div>
                                                                    <span *ngIf="!item.validated" class="limitword"
                                                                        [ngClass]="
                                      i === currentQuestionObject.userIndex &&
                                      j === currentQuestionObject.tabIndex &&
                                      k === currentQuestionObject.questionIndex
                                        ? 'active-question'
                                        : 'question'
                                    ">{{ item.questionname }}</span>
                                                                    <span *ngIf="item.validated"
                                                                        class="limitword answered-question">{{
                                                                        item.questionname }}</span>
                                                                </div>
                                                                <!-- <div *ngIf="Object.keys(item.answerKey).length!=0" style=" -->
                                                                <div *ngIf="item.validated === true" style="
                                    background-color: #41d60c;
                                    border-radius: 50%;
                                    display: flex;
                                    justify-content: center;
                                    align-items: center;
                                  ">
                                                                    <mat-icon style="
                                      font-size: 15px;
                                      color: white;
                                      display: flex;
                                      justify-content: center;
                                      align-items: center;
                                    ">check</mat-icon>
                                                                </div>
                                                            </div>
                                                        </mat-expansion-panel>
                                                    </mat-accordion>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                    </div>
                                    <div class="col-md-8 d-flex flex-column justify-content-between">
                                        <div>
                                            <div class="col-md-12" *ngIf="
                          currentQuestionObject.question &&
                          currentQuestionObject.question.questionname
                        ">
                                                <div *ngIf="
                            currentQuestionObject.question.questionname != ''
                          " style="
                            font-weight: bold;
                            font-size: 20px;
                            background-color: #f2f2f2;
                          " class="rounded d-flex justify-content-start align-items-center p-2">
                                                    <span class="mr-2 rounded-circle p-1 text-center" style="
                              background-color: #454c58;
                              width: 38px;
                              color: white;
                            ">{{ currentQuestionObject.questionIndex + 1 }}</span>
                                                    <span
                                                        style="word-wrap: break-word; color: #454c58;font-weight: 500;">{{
                                                        currentQuestionObject.question.questionname
                                                        }}</span>
                                                </div>
                                                <div style="color: #454c58; font-weight: 300" *ngIf="
                            currentQuestionObject.question.description != ''
                          " class="py-1 px-2">
                                                    ({{ currentQuestionObject.question.description }})
                                                </div>
                                            </div>

                                            <div class="col-md-12" *ngIf="currentQuestionObject.question.type == 'mcq'">
                                                <div style="margin-top: 26px" *ngIf="
                            currentQuestionObject.question.option.length > 0
                          ">
                                                    <mat-radio-group aria-label="Select an option">
                                                        <ng-container *ngFor="
                                let optionname of currentQuestionObject.question
                                  .option;
                                let j = index
                              ">
                                                            <mat-radio-button value="{{ optionname }}" [checked]="
                                  currentQuestionObject.question.answerKey
                                    .selected_option == optionname
                                " style="display: block; margin-right: 20px" (change)="
                                  filling_answer(
                                    currentQuestionObject,
                                    'selected_option',
                                    i,
                                    j,
                                    optionname
                                  )
                                " class="radioclass">{{ optionname }}</mat-radio-button>
                                                            <ng-container *ngIf="
                                  currentQuestionObject.question
                                    .option_fields &&
                                  currentQuestionObject.question.option_fields
                                    .length > 0
                                ">
                                                                <ng-container *ngIf="
                                    currentQuestionObject.question &&
                                    j ==
                                      currentQuestionObject.question
                                        .option_index
                                  ">
                                                                    <div *ngIf="
                                      currentQuestionObject.question
                                        .option_fields[j].option3 ==
                                      'Kurze Antwort'
                                    " class="col-md-12 p-0" style="display: inline-block">
                                                                        <p class="text-start"
                                                                            style="font-weight: 500; color: #454c58">
                                                                            <span>Antwort Eingeben</span>&nbsp;<span
                                                                                *ngIf="
                                          currentQuestionObject.question
                                            .option_fields[j].option ==
                                          'Erforderlich'
                                        " style="color: red">*</span>
                                                                        </p>
                                                                        <div class="d-flex align-items-center px-1 gradient py-1"
                                                                            style="border-radius: 10px">
                                                                            <mat-form-field appearance="outline" style="
                                          width: 100%;
                                          background: white;
                                          border-radius: 10px;
                                        " class=" remove-subscript-wrapper mat-form-field-remove-padding-bottom mat-form-field-remove-margin">
                                                                                <input matInput 
                                                                                    placeholder="Antwort eingeben"
                                                                                    value="{{
                                            currentQuestionObject?.question
                                              ?.answerKey?.input
                                          }}" (keyup)="
                                            filling_answer(
                                              currentQuestionObject,
                                              'input',
                                              i,
                                              j,
                                              ($any($event.target).value)
                                            )
                                          " />
                                                                            </mat-form-field>
                                                                        </div>
                                                                    </div>
                                                                    <div *ngIf="
                                      currentQuestionObject.question
                                        .option_fields[j].option3 ==
                                      'Lange Antwort'
                                    " class="col-md-12 p-0" style="display: inline-block">
                                                                        <p class="text-start"
                                                                            style="font-weight: 500; color: #454c58">
                                                                            <span>Antwort Eingeben</span>&nbsp;<span
                                                                                *ngIf="
                                          currentQuestionObject.question
                                            .option_fields[j].option ==
                                          'Erforderlich'
                                        " style="color: red">*</span>
                                                                        </p>
                                                                        <div class="d-flex align-items-center px-1 gradient py-1"
                                                                            style="border-radius: 10px">
                                                                            <mat-form-field appearance="outline" style="
                                          width: 100%;
                                          background: white;
                                          border-radius: 10px;
                                        " class="remove-subscript-wrapper mat-form-field-remove-padding-bottom mat-form-field-remove-margin">
                                                                                <textarea matInput
                                                                                    placeholder="Antwort eingeben"
                                                                                    rows="5" value="{{
                                            currentQuestionObject.question
                                              .answerKey.textarea
                                          }}" (keyup)="
                                            filling_answer(
                                              currentQuestionObject,
                                              'textarea',
                                              i,
                                              j,
                                              ($any($event.target).value)
                                            )
                                          "></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-12 p-0"
                                                                        style="display: inline-block" *ngIf="
                                      currentQuestionObject.question
                                        .option_fields[j].option5 == 'Ja' &&
                                      currentQuestionObject.question
                                        .option_fields[j].option6 ==
                                        'Single date'
                                    ">
                                                                        <p class="text-center"
                                                                            style="font-weight: 500; color: #454c58">
                                                                            <span>Datum auswählen</span>&nbsp;<span
                                                                                *ngIf="
                                          currentQuestionObject.question
                                            .option_fields[j].option7 ==
                                          'Erforderlich'
                                        " style="color: red">*</span>
                                                                        </p>
                                                                        <div class="d-flex align-items-center px-1 gradient py-1"
                                                                            style="border-radius: 10px">
                                                                            <mat-form-field appearance="outline" style="
                                          width: 100%;
                                          background: white;
                                          border-radius: 10px;
                                        " class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin">
                                                                                <input matInput [matDatepicker]="picker"
                                                                                    placeholder="Datum auswählen" value="{{
                                            currentQuestionObject.question
                                              .answerKey.date
                                          }}" (dateChange)="
                                            filling_answer(
                                              currentQuestionObject,
                                              'date',
                                              i,
                                              j,
                                              $event
                                            )
                                          " (keyup)="
                                            filling_answer(
                                              currentQuestionObject,
                                              'date',
                                              i,
                                              j,
                                              $event
                                            )
                                          " />
                                                                                <mat-datepicker-toggle matSuffix
                                                                                    [for]="picker">
                                                                                </mat-datepicker-toggle>
                                                                                <mat-datepicker #picker
                                                                                    format="dd\MM\yyyy">
                                                                                </mat-datepicker>
                                                                            </mat-form-field>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-md-6" *ngIf="
                                        currentQuestionObject.question
                                          .option_fields[j].option5 == 'Ja' &&
                                        currentQuestionObject.question
                                          .option_fields[j].option6 ==
                                          'Date range'
                                      ">
                                                                            <p class="text-center"
                                                                                style="font-weight: 500; color: #454c58">
                                                                                <span>Von</span>&nbsp;<span *ngIf="
                                            currentQuestionObject.question
                                              .option_fields[j].option7 ==
                                            'Erforderlich'
                                          " style="color: red">*</span>
                                                                            </p>
                                                                            <div class="d-flex align-items-center px-1 gradient py-1"
                                                                                style="border-radius: 10px">
                                                                                <mat-form-field appearance="outline"
                                                                                    style="
                                            width: 100%;
                                            background: white;
                                            border-radius: 10px;
                                          " class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin">
                                                                                    <input matInput
                                                                                        [matDatepicker]="picker"
                                                                                        placeholder="Von" value="{{
                                              currentQuestionObject.question
                                                .answerKey.from_date
                                            }}" (dateChange)="
                                              filling_answer(
                                                currentQuestionObject,
                                                'from_date',
                                                i,
                                                j,
                                                $event
                                              )
                                            " (keyup)="
                                              filling_answer(
                                                currentQuestionObject,
                                                'from_date',
                                                i,
                                                j,
                                                $event
                                              )
                                            " />
                                                                                    <mat-datepicker-toggle matSuffix
                                                                                        [for]="picker">
                                                                                    </mat-datepicker-toggle>
                                                                                    <mat-datepicker #picker
                                                                                        format="dd\MM\yyyy">
                                                                                    </mat-datepicker>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6" *ngIf="
                                        currentQuestionObject.question
                                          .option_fields[j].option5 == 'Ja' &&
                                        currentQuestionObject.question
                                          .option_fields[j].option6 ==
                                          'Date range'
                                      ">
                                                                            <p class="text-center"
                                                                                style="font-weight: 500; color: #454c58">
                                                                                <span>Bis</span>&nbsp;<span *ngIf="
                                            currentQuestionObject.question
                                              .option_fields[j].option7 ==
                                            'Erforderlich'
                                          " style="color: red">*</span>
                                                                            </p>
                                                                            <div class="d-flex align-items-center px-1 gradient py-1"
                                                                                style="border-radius: 10px">
                                                                                <mat-form-field appearance="outline"
                                                                                    style="
                                            width: 100%;
                                            background: white;
                                            border-radius: 10px;
                                          " class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin">
                                                                                    <input matInput
                                                                                        [matDatepicker]="picker"
                                                                                        placeholder="Bis" value="{{
                                              currentQuestionObject.question
                                                .answerKey.to_date
                                            }}" (dateChange)="
                                              filling_answer(
                                                currentQuestionObject,
                                                'to_date',
                                                i,
                                                j,
                                                $event
                                              )
                                            " (keyup)="
                                              filling_answer(
                                                currentQuestionObject,
                                                'to_date',
                                                i,
                                                j,
                                                $event
                                              )
                                            " />
                                                                                    <mat-datepicker-toggle matSuffix
                                                                                        [for]="picker">
                                                                                    </mat-datepicker-toggle>
                                                                                    <mat-datepicker #picker
                                                                                        format="dd\MM\yyyy">
                                                                                    </mat-datepicker>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-12 p-0" *ngIf="
                                      currentQuestionObject.question
                                        .option_fields[j].option2 == 'Ja'
                                    " style="
                                      display: inline-block;
                                      margin-top: 10px;
                                    ">
                                                                        <div style="cursor: pointer"
                                                                            class="upload-file bg-primary2 rounded p-l-30 position-relative">
                                                                            <input style="height: 100%" #divone
                                                                                (click)="divone.value = null"
                                                                                type="file"
                                                                                class="upload-files w-100 position-absolute"
                                                                                id="organization_image" multiple
                                                                                name="organization_image" (change)="
                                          handleDocumentUpload($event, j, i)
                                        " accept=".gif,.jpg,.jpeg,.png, .pdf" />
                                                                            <div class="mt-3"
                                                                                style="text-align: center">
                                                                                <img
                                                                                    src="../assets/cefima-upload-icon.png" />
                                                                            </div>

                                                                            <div style="display: block; margin: 0 auto">
                                                                                <div class="up-file-wrap"
                                                                                    style="text-align: center">
                                                                                    <p style="
                                              font-size: 22px;
                                              text-align: center;
                                              color: #454c58;
                                              font-weight: 300;
                                            " class="font-18 mb-0">
                                                                                        Dokumente für Upload wählen oder
                                                                                        einfach hierhin ziehen.
                                                                                        <span style="color: red" *ngIf="
                                                currentQuestionObject.question
                                                  .option_fields[j].option1 ==
                                                'Erforderlich'
                                              ">Upload erfoderlich</span><span style="color: red" *ngIf="
                                                currentQuestionObject.question
                                                  .option_fields[j].option1 ==
                                                'Nicht erforderlich'
                                              ">Upload optional</span>
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <!-- <div class="text-center">
                                                                                <button class="upload-button">
                                                                                    Or Select File To Upload
                                                                                </button>
                                                                            </div> -->
                                                                        </div>
                                                                    </div>

                                                                    <div class="row mt-2 result{{ i }}"
                                                                        id="result{{ j }}">
                                                                        <ng-container *ngIf="
                                        currentQuestionObject.question.answerKey
                                          .documents.length > 0
                                      ">
                                                                            <div class="col-md-4"
                                                                                style="display: inline-block" *ngFor="
                                          let file of currentQuestionObject
                                            .question.answerKey.documents
                                        ">
                                                                                <div class="row">
                                                                                    <div class="col-md-12">
                                                                                        <div class="removepreview links"
                                                                                            (click)="
                                                remove_uploaded_document(
                                                  i,
                                                  file.document_unique_id
                                                )
                                              " style="
                                                margin-bottom: -25px;
                                                background: #184297;
                                                border-radius: 3px;
                                                width: 25px;
                                                height: 25px;
                                                font-size: 14px;
                                                text-align: center;
                                                padding: 1px;
                                                color: white;
                                                margin-left: 260px;
                                                margin-top: 2px;
                                                margin-right: 0 !important;
                                                cursor: pointer;
                                              ">
                                                                                            X
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="col-md-2">
                                                                                        <img class="imageThumb" *ngIf="
                                                file.document_unique_id.indexOf(
                                                  '.pdf'
                                                ) == -1 &&
                                                file.document_unique_id.indexOf(
                                                  '.mp4'
                                                ) == -1
                                              " style="
                                                width: 170%;
                                                height: 30px;
                                                margin-top: 20px;
                                              " src="{{ file.url }}" />
                                                                                        <img class="imageThumb" *ngIf="
                                                file.document_unique_id.indexOf(
                                                  '.pdf'
                                                ) != -1
                                              " style="
                                                width: 170%;
                                                height: 30px;
                                                margin-top: 20px;
                                              " src="../assets/PDF.svg" />
                                                                                        <img class="imageThumb" *ngIf="
                                                file.document_unique_id.indexOf(
                                                  '.mp4'
                                                ) != -1
                                              " style="
                                                width: 170%;
                                                height: 30px;
                                                margin-top: 20px;
                                              " src="../assets/video-button.png" />
                                                                                    </div>
                                                                                    <div class="col-md-9"
                                                                                        style="font-size: 12px">
                                                                                        <div>
                                                                                            <b class="limitword">Dokumentenname:
                                                                                                {{ file.file_name }}</b>
                                                                                        </div>
                                                                                        <div>
                                                                                            <b>Dateigröße:
                                                                                                {{
                                                                                                file.tags.split(",")[0]
                                                                                                }}</b>
                                                                                        </div>
                                                                                        <div>
                                                                                            <b>Dateityp:
                                                                                                {{
                                                                                                file.tags.split(",")[1]
                                                                                                }}</b>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="col-md-12">
                                                                                        <div class="previewdoc links"
                                                                                            (click)="
                                                preview_uploaded_document(
                                                  file.file_name,
                                                  file.url,
                                                  file.tags.split(',')[1]
                                                )
                                              " style="
                                                background: #184297;
                                                border-radius: 3px;
                                                width: 25px;
                                                height: 25px;
                                                font-size: 14px;
                                                text-align: center;
                                                padding: 1px;
                                                color: white;
                                                margin-left: 260px;
                                                margin-top: -25px;
                                                margin-right: 0 !important;
                                                cursor: pointer;
                                              ">
                                                                                            <i class="fa fa-eye"
                                                                                                aria-hidden="true"></i>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            </ng-container>
                                                        </ng-container>
                                                    </mat-radio-group>
                                                </div>
                                            </div>

                                            <div class="col-md-12"
                                                *ngIf="currentQuestionObject.question.type == 'input'">
                                                <div *ngIf="
                            currentQuestionObject.question.option3 ==
                            'Kurze Antwort'
                          " class="col-md-12 p-0" style="display: inline-block">
                                                    <p class="text-start" style="font-weight: 500; color: #454c58">
                                                        <span>Antwort Eingeben</span>&nbsp;<span *ngIf="
                                currentQuestionObject.question.option[0] ==
                                'Erforderlich'
                              " style="color: red">*</span>
                                                    </p>
                                                    <div class="d-flex align-items-center px-1 gradient py-1"
                                                        style="border-radius: 10px">
                                                        <mat-form-field appearance="outline" style="
                                width: 100%;
                                background: white;
                                border-radius: 10px;
                              " class="remove-subscript-wrapper my-mat-field mat-form-field-remove-padding-bottom mat-form-field-remove-margin input-border-gradient">
                                                            <input matInput placeholder="Antwort eingeben" [(ngModel)]="currentQuestionObject.question.answerKey.input
                                " (input)="
                                  filling_answer(
                                    currentQuestionObject,
                                    'input',
                                    i,
                                    '',
                                    ($any($event.target).value)
                                  )
                                " />
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div *ngIf="
                            currentQuestionObject.question.option3 ==
                            'Lange Antwort'
                          " class="col-md-12 p-0" style="display: inline-block">
                                                    <p class="text-start" style="font-weight: 500; color: #454c58">
                                                        <span>Antwort Eingeben</span>&nbsp;<span *ngIf="
                                currentQuestionObject.question.option[0] ==
                                'Erforderlich'
                              " style="color: red">*</span>
                                                    </p>
                                                    <div class="d-flex align-items-center px-1 gradient py-1"
                                                        style="border-radius: 10px">
                                                        <mat-form-field
                                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin"
                                                            appearance="outline" style="
                                width: 100%;
                                background: white;
                                border-radius: 10px;
                              ">
                                                            <textarea value="{{
                                  currentQuestionObject.question.answerKey
                                    .textarea
                                }}" matInput placeholder="Antwort eingeben" rows="5" (keyup)="
                                  filling_answer(
                                    currentQuestionObject,
                                    'textarea',
                                    i,
                                    '',
                                    ($any($event.target).value)
                                  )
                                "></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 p-0" style="display: inline-block" *ngIf="
                            currentQuestionObject.question.option5 == 'Ja' &&
                            currentQuestionObject.question.option6 ==
                              'Single date'
                          ">
                                                    <p class="text-center" style="font-weight: 500; color: #454c58">
                                                        <span>Datum auswählen</span>&nbsp;<span *ngIf="
                                currentQuestionObject.question.option7 ==
                                'Erforderlich'
                              " style="color: red">*</span>
                                                    </p>
                                                    <div class="d-flex align-items-center px-1 gradient py-1"
                                                        style="border-radius: 10px">
                                                        <mat-form-field appearance="outline"
                                                            class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin"
                                                            style="
                                width: 100%;
                                background: white;
                                border-radius: 10px;
                              ">
                                                            <input matInput value="{{
                                  currentQuestionObject.question.answerKey.date
                                }}" [matDatepicker]="picker" placeholder="Datum auswählen" (dateChange)="
                                  filling_answer(
                                    currentQuestionObject,
                                    'date',
                                    i,
                                    '',
                                    $event
                                  )
                                " (keyup)="
                                  filling_answer(
                                    currentQuestionObject,
                                    'date',
                                    i,
                                    '',
                                    $event
                                  )
                                " />
                                                            <mat-datepicker-toggle matSuffix [for]="picker">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker #picker format="dd\MM\yyyy">
                                                            </mat-datepicker>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6" *ngIf="
                              currentQuestionObject.question.option5 == 'Ja' &&
                              currentQuestionObject.question.option6 ==
                                'Date range'
                            ">
                                                        <p class="text-center" style="font-weight: 500; color: #454c58">
                                                            <span>Von</span>&nbsp;<span *ngIf="
                                  currentQuestionObject.question.option7 ==
                                  'Erforderlich'
                                " style="color: red">*</span>
                                                        </p>
                                                        <div class="d-flex align-items-center px-1 gradient py-1"
                                                            style="border-radius: 10px">
                                                            <mat-form-field appearance="outline"
                                                                class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin"
                                                                style="
                                  width: 100%;
                                  background: white;
                                  border-radius: 10px;
                                ">
                                                                <input matInput value="{{
                                    currentQuestionObject.question.answerKey
                                      .from_date
                                  }}" [matDatepicker]="picker" placeholder="Von" (dateChange)="
                                    filling_answer(
                                      currentQuestionObject,
                                      'from_date',
                                      i,
                                      '',
                                      $event
                                    )
                                  " (keyup)="
                                    filling_answer(
                                      currentQuestionObject,
                                      'from_date',
                                      i,
                                      '',
                                      $event
                                    )
                                  " />
                                                                <mat-datepicker-toggle matSuffix [for]="picker">
                                                                </mat-datepicker-toggle>
                                                                <mat-datepicker #picker format="dd\MM\yyyy">
                                                                </mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-6" *ngIf="
                              currentQuestionObject.question.option5 == 'Ja' &&
                              currentQuestionObject.question.option6 ==
                                'Date range'
                            ">
                                                        <p class="text-center" style="font-weight: 500; color: #454c58">
                                                            <span>Bis</span>&nbsp;<span *ngIf="
                                  currentQuestionObject.question.option7 ==
                                  'Erforderlich'
                                " style="color: red">*</span>
                                                        </p>
                                                        <div class="d-flex align-items-center px-1 gradient py-1"
                                                            style="border-radius: 10px">
                                                            <mat-form-field appearance="outline"
                                                                class="mat-form-field-remove-padding-bottom mat-form-field-remove-margin"
                                                                style="
                                  width: 100%;
                                  background: white;
                                  border-radius: 10px;
                                ">
                                                                <!-- value="{{selected_producttype_answers[i].to_date}}" -->
                                                                <input matInput value="{{
                                    currentQuestionObject.question.answerKey
                                      .to_date
                                  }}" [matDatepicker]="picker" placeholder="Bis" (dateChange)="
                                    filling_answer(
                                      currentQuestionObject,
                                      'to_date',
                                      i,
                                      '',
                                      $event
                                    )
                                  " (keyup)="
                                    filling_answer(
                                      currentQuestionObject,
                                      'to_date',
                                      i,
                                      '',
                                      $event
                                    )
                                  " />
                                                                <mat-datepicker-toggle matSuffix [for]="picker">
                                                                </mat-datepicker-toggle>
                                                                <mat-datepicker #picker format="dd\MM\yyyy">
                                                                </mat-datepicker>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 p-0"
                                                    *ngIf="currentQuestionObject.question.option2 == 'Ja'"
                                                    style="display: inline-block; margin-top: 10px">
                                                    <div style="cursor: pointer"
                                                        class="upload-file bg-primary2 rounded p-l-30 position-relative">
                                                        <input style="height: 100%" #divone
                                                            (click)="divone.value = null" type="file"
                                                            class="upload-files w-100 position-absolute"
                                                            id="organization_image" multiple name="organization_image"
                                                            accept=".gif,.jpg,.jpeg,.png, .pdf, .mp4"
                                                            (change)="handleDocumentUpload($event, '', i)" />
                                                        <!--  -->
                                                        <div class="mt-3" style="text-align: center">
                                                            <img src="../assets/cefima-upload-icon.png" />
                                                        </div>

                                                        <div style="display: block; margin: 0 auto">
                                                            <div class="up-file-wrap" style="text-align: center">
                                                                <p style="
                                                                    font-size: 22px; text-align: center; color: #454c58; font-weight: 300; "
                                                                    class="font-18 mb-0">
                                                                    Dokumente für Upload wählen oder einfach
                                                                    hierhin ziehen.
                                                                    <span style="color: red" *ngIf="
                                                    currentQuestionObject.question.option[1] == 'Erforderlich'
                                                    ">Upload erfoderlich</span><span style="color: red"
                                                                        *ngIf="
                                                    currentQuestionObject.question.option[1] == 'Nicht erforderlich'  ">Upload optional</span>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="text-center">
                                                            <button class="upload-button">
                                                                Or Select File To Upload
                                                            </button>
                                                        </div> -->
                                                    </div>
                                                </div>
                                                <div class="row ms-3 ">
                                                    <div class="row mt-2 result{{ i }}" id="resultt{{ i }}">
                                                        <ng-container *ngIf="
                                            currentQuestionObject.question.answerKey.documents &&
                                            currentQuestionObject.question.answerKey.documents.length > 0 ">
                                                            <div class="col-md-4" style="display: inline-block" *ngFor="
                                                    let file of currentQuestionObject.question.answerKey.documents ">
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <div class="removepreview links" (click)="
                                      remove_uploaded_document( i,
                                        file.document_unique_id )
                                    " style="
                                      margin-bottom: -25px;
                                      background: #184297;
                                      border-radius: 3px;
                                      width: 25px;
                                      height: 25px;
                                      font-size: 14px;
                                      text-align: center;
                                      padding: 1px;
                                      color: white;
                                      margin-left: 260px;
                                      margin-top: 2px;
                                      margin-right: 0 !important;
                                      cursor: pointer;
                                    ">
                                                                            X
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-2">
                                                                        <img class="imageThumb" *ngIf="
                                      file.document_unique_id.indexOf('.pdf') ==
                                        -1 &&
                                      file.document_unique_id.indexOf('.mp4') ==
                                        -1
                                    " style="
                                      width: 170%;
                                      height: 30px;
                                      margin-top: 20px;
                                    " src="{{ file.url }}" />
                                                                        <img class="imageThumb" *ngIf="
                                      file.document_unique_id.indexOf('.pdf') !=
                                      -1
                                    " style="
                                      width: 170%;
                                      height: 30px;
                                      margin-top: 20px;
                                    " src="../assets/PDF.svg" />
                                                                        <img class="imageThumb" *ngIf="
                                      file.document_unique_id.indexOf('.mp4') !=
                                      -1
                                    " style="
                                      width: 170%;
                                      height: 30px;
                                      margin-top: 20px;
                                    " src="../assets/video-button.png" />
                                                                    </div>
                                                                    <div class="col-md-9" style="font-size: 12px">
                                                                        <div>
                                                                            <b class="limitword">Dokumentenname: {{
                                                                                file.file_name }}</b>
                                                                        </div>
                                                                        <div>
                                                                            <b>Dateigröße:
                                                                                {{ file.tags.split(",")[0] }}</b>
                                                                        </div>
                                                                        <div>
                                                                            <b>Dateityp:
                                                                                {{ file.tags.split(",")[1] }}</b>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-12">
                                                                        <div class="previewdoc links" (click)="
                                      preview_uploaded_document(
                                        file.file_name,
                                        file.url,
                                        file.tags.split(',')[1]
                                      )
                                    " style="
                                      background: #184297;
                                      border-radius: 3px;
                                      width: 25px;
                                      height: 25px;
                                      font-size: 14px;
                                      text-align: center;
                                      padding: 1px;
                                      color: white;
                                      margin-left: 260px;
                                      margin-top: -25px;
                                      margin-right: 0 !important;
                                      cursor: pointer;
                                    ">
                                                                            <i class="fa fa-eye" aria-hidden="true"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Button to check validation -->

                                        <div class="d-flex justify-content-between align-items-center"
                                            *ngIf="tabQuestionsLength !== 0" style="
                        margin-top: 10px;
                        width: 96%;
                        margin-left: auto;
                        margin-right: auto;
                      ">
                                            <button (click)="setPrevQuestion(currentQuestionObject)" type="button"
                                                [ngClass]="
                                                currentQuestionObject.questionIndex !== 0 || currentQuestionObject.tabIndex !== 0
                            ? 'btn btn-primary primary-btn gradient'
                            : 'd-none'
                        ">
                                                <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                            </button>
                                            <!-- <button (click)="setNextQuestion(currentQuestionObject)" type="button"
                                                [ngClass]="
                          currentQuestionObject.questionIndex !==
                          tabQuestionsLength - 1
                            ? 'btn btn-primary primary-btn gradient ml-auto'
                            : 'd-none'
                        " [disabled]="
                          !check_nextbutton_validation(currentQuestionObject)
                        "> -->
                                            <button (click)="setNextQuestion(currentQuestionObject)" type="button"
                                                [ngClass]="
                                                currentQuestionObject.qno < questionCounter
                            ? 'btn btn-primary primary-btn gradient ml-auto'
                            : 'd-none'
                        " [disabled]="
                          !check_nextbutton_validation(currentQuestionObject)
                        ">
                                                Weiter&nbsp;
                                                <i class="fa fa-arrow-right" aria-hidden="true"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <hr />
                                <div class="d-flex justify-content-between align-items-center">
                                    <button matStepperPrevious type="button"
                                        class="btn btn-primary primary-btn gradient">
                                        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                    </button>
                                    <button *ngIf="questionList.length > 0" matStepperNext type="button"
                                        class="btn btn-primary primary-btn gradient" [disabled]="submitValidation()">
                                        Weiter&nbsp;
                                        <i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <!-- <div class="row mt-3">
                                <hr />
                                <div class="text-right">
                                    <button class="btn btn-info" mat-raised-button matStepperNext>
                                        Weiter&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div> -->
                            </div>
                        </mat-step>
                        <mat-step class="bg-primary" style="height: 100%">
                            <ng-template matStepLabel>
                                <span>Antworten anzeigen</span>
                            </ng-template>
                            <div *ngFor="let member of questionList; let k = index">
                                <div *ngFor="let tab of member.tempList; let j = index">
                                    <div *ngIf="tab.list.length > 0">
                                        <!-- width: 50%; -->

                                        <div style="
                                            border: 1px solid black;
                                            margin: auto;
                                            width: 595px;
                                            min-height: 842px;
                                            margin-bottom: 10px;
                                            ">
                                            <div style="
                                                width: 100%;
                                                display: flex;
                                                flex-direction: column;
                                                justify-content: center;
                                                align-items: center;
                                                margin-top: 20px;
                                            ">
                                                <div>
                                                    <img style="height: 25px" src="../assets/logo's-04.png" />
                                                </div>
                                                <div style="
                                                    width: 95%;
                                                    align-self: start;
                                                    margin-top: 20px;
                                                    margin-bottom: 20px;
                                                    margin-left: auto;
                                                    margin-right: auto;
                                                    display: flex;
                                                    justify-content: space-between;
                                                    align-items: flex-start;
                                                    font-size: 10px;
                                                ">
                                                    <div>
                                                        <p style="margin: 0px">
                                                            {{ member.name }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ member.email }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ member.strno }},{{ member.city }},{{
                                                            member.country
                                                            }}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.title }}
                                                            {{ this.localData.firstname }}
                                                            {{ this.localData.lastname }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.email }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.current_country }}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p style="margin: 0px">
                                                            DFG&nbsp;Finanzprofi&nbsp;GmbH,
                                                        </p>
                                                        <p style="margin: 0px">Josefstraße&nbsp;22</p>
                                                        <p style="margin: 0px">36088&nbsp;Hünfeld</p>
                                                    </div>
                                                </div>

                                                <div style="text-transform: capitalize">
                                                    <h3 style="margin: 0px; font-size: 15px">
                                                        {{ tab.tabName }}
                                                    </h3>
                                                </div>
                                            </div>
                                            <div style="min-height: 520px">
                                                <ng-container *ngFor="let viewquestiondata of tab.list; let i = index">
                                                    <div style="width: 95%; margin: auto">
                                                        <div style="margin-top: 20px">
                                                            <div *ngIf="viewquestiondata.questionname != ''"
                                                                style="font-size: 12px; font-weight: bold">
                                                                <span
                                                                    style="word-wrap: break-word;font-weight: 500;">Frage{{
                                                                    i + 1 }}
                                                                    :&nbsp;{{
                                                                    viewquestiondata.questionname.replaceAll(
                                                                    "
                                                                    ",
                                                                    "&nbsp;"
                                                                    )
                                                                    }}</span>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="viewquestiondata.type == 'mcq'">
                                                            <div style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.selected_option
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="viewquestiondata.answerKey.input != ''"
                                                                style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.input
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="viewquestiondata.answerKey.textarea != ''"
                                                                style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.textarea
                                                                    }}</span>
                                                            </div>

                                                            <div *ngIf="viewquestiondata.answerKey.date != ''"
                                                                style="font-size: 12px">
                                                                <span>Datum :&nbsp;{{
                                                                    viewquestiondata.answerKey.date
                                                                    | date : "dd.MM.yyyy"
                                                                    }}</span>
                                                            </div>

                                                            <div style="
                                                                display: flex;
                                                                justify-content: flex-start;
                                                                align-items: center;
                                                                font-size: 12px;
                                                            ">
                                                                <div style="margin-right: 20px" *ngIf="
                                      viewquestiondata.answerKey.from_date != ''
                                    ">
                                                                    <span>Von :&nbsp;{{
                                                                        viewquestiondata.answerKey.from_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                                <div *ngIf="viewquestiondata.answerKey.to_date != ''">
                                                                    <span>Bis :&nbsp;{{
                                                                        viewquestiondata.answerKey.to_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                            </div>

                                                            <ng-container *ngIf="
                                                                viewquestiondata.answerKey.documents &&
                                                                viewquestiondata.answerKey.documents.length > 0
                                                            ">
                                                                <div style="
                                                                    width: 100%;
                                                                    display: flex;
                                                                    flex-direction: column;
                                                                    justify-content: center;
                                                                    align-items: flex-start;
                                                                ">
                                                                    <ng-container *ngFor="
                                                                        let file of viewquestiondata.answerKey
                                                                        .documents
                                                                    ">
                                                                        <div style="
                                                                            width: 100%;
                                                                            margin-top: 20px;
                                                                            display: flex;
                                                                            align-items: center;
                                                                            " *ngIf="
                                                                            file.document_unique_id.indexOf('.pdf') ==
                                                                                -1 &&
                                                                            file.document_unique_id.indexOf('.mp4') ==
                                                                                -1
                                                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 15%; margin-right: 20px"
                                                                                src="{{
                                                                                    API_URL
                                                                                }}document/downloaddocument/{{
                                                                                    file.document_unique_id
                                                                                }}" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße:</b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp:</b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/pdf-icon.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.mp4') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/mp4.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>

                                                        <div *ngIf="viewquestiondata.type == 'input'">
                                                            <div *ngIf="
                                                                viewquestiondata.option3 == 'Kurze Antwort'
                                                            " style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.input
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="
                                    viewquestiondata.option3 == 'Lange Antwort'
                                  " style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.textarea
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="
                                    viewquestiondata.option5 == 'Ja' &&
                                    viewquestiondata.option6 == 'Single date'
                                  " style="font-size: 12px">
                                                                <span>Datum :&nbsp;{{
                                                                    viewquestiondata.answerKey.date
                                                                    | date : "dd.MM.yyyy"
                                                                    }}</span>
                                                            </div>
                                                            <div style="
                                    display: flex;
                                    justify-content: flex-start;
                                    align-items: center;
                                    font-size: 12px;
                                  ">
                                                                <div style="margin-right: 20px" *ngIf="
                                      viewquestiondata.option5 == 'Ja' &&
                                      viewquestiondata.option6 == 'Date range'
                                    ">
                                                                    <span>Von :&nbsp;{{
                                                                        viewquestiondata.answerKey.from_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                                <div *ngIf="
                                      viewquestiondata.option5 == 'Ja' &&
                                      viewquestiondata.option6 == 'Date range'
                                    ">
                                                                    <span>Bis :&nbsp;{{
                                                                        viewquestiondata.answerKey.to_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                            </div>

                                                            <ng-container *ngIf="
                                    viewquestiondata.answerKey.documents &&
                                    viewquestiondata.answerKey.documents.length > 0
                                  ">
                                                                <div style="
                                      width: 100%;
                                      display: flex;
                                      flex-direction: column;
                                      justify-content: center;
                                      align-items: flex-start;
                                    ">
                                                                    <ng-container *ngFor="
                                        let file of viewquestiondata.answerKey
                                          .documents
                                      ">
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') ==
                                            -1 &&
                                          file.document_unique_id.indexOf('.mp4') ==
                                            -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 15%; margin-right: 20px"
                                                                                src="{{
                                            API_URL
                                          }}document/downloaddocument/{{
                                            file.document_unique_id
                                          }}" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße:</b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp:</b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/pdf-icon.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.mp4') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/mp4.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <div style="width: 95%; margin: auto; margin-top: 20px">
                                                <img class="showSignature" [src]="currentSignature"
                                                    style="width: 200px; border-bottom: 1px solid lightgray" />
                                                <p style="margin-top: 10px; font-size: 10px">
                                                    {{ this.localData.title }}&nbsp;{{
                                                    this.localData.firstname
                                                    }}&nbsp;{{ this.localData.lastname }}
                                                </p>
                                            </div>
                                            <!-- /* padding-top: 475px; */ -->
                                            <div style="
                                                width: 95%;
                                                margin-top: 30px;
                                                margin-left: auto;
                                                margin-right: auto;
                                                margin-bottom: 20px;
                                                display: flex;
                                                justify-content: space-between;
                                                align-items: center;
                                                font-size: 6px;
                                            ">
                                                <div>
                                                    <p class="m-0">DFG&nbsp;Finanzprofi&nbsp;GmbH</p>
                                                    <p class="m-0">www.cefima.de</p>
                                                    <p class="m-0">
                                                        Geschäftsführer&#x3A;&nbsp;Filippo&nbsp;Fioretto
                                                    </p>
                                                    <p class="m-0">
                                                        IHK Registrierungsnummer&#x3A;&nbsp;D-QPB7-VA29M-40
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">
                                                        Sitz&nbsp;der&nbsp;Gesellschaft&#x3A;&nbsp;Hünfeld
                                                    </p>
                                                    <p class="m-0">
                                                        Handelsregister&nbsp;Fulda&nbsp;HRB&nbsp;6902
                                                    </p>
                                                    <p class="m-0">Finanzamt&#x3A;&nbsp;Fulda</p>
                                                    <p class="m-0">
                                                        SteuerNr.&#x3A;&nbsp;18&nbsp;231&nbsp;02570
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">Anschrift&#x3A;</p>
                                                    <p class="m-0">Josefstraße&nbsp;22</p>
                                                    <p class="m-0">36088&nbsp;Hünfeld</p>
                                                    <p class="m-0">
                                                        Tel.&#x3A;&nbsp;+49&nbsp;6652/9824-690
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">Bankverbindung&#x3A;</p>
                                                    <p class="m-0">Solarisbank&nbsp;AG</p>
                                                    <p class="m-0">
                                                        IBAN&nbsp;DE94&nbsp;1101&nbsp;0100&nbsp;2084&nbsp;5971&nbsp;38
                                                    </p>
                                                    <p class="m-0">BIC&#x3A;&nbsp;SOBKDEBBXXX</p>
                                                </div>
                                            </div>
                                            <div *ngIf="currentSignature !== ''"
                                                class="mb-2 d-flex justify-content-end align-items-center"
                                                style="width: 98%; margin: auto">
                                                <div style="
                                                        border-radius: 50%;
                                                        width: 35px;
                                                        display: flex;
                                                        justify-content: center;
                                                        align-items: center;
                                                        padding: 5px;
                                                        background-color: green;
                                                    ">
                                                    <mat-icon>check</mat-icon>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="questionPdf{{ k }}{{ j }}" style="width: 595px; display: none">
                                            <div style="
                                                width: 100%;
                                                display: flex;
                                                flex-direction: column;
                                                justify-content: center;
                                                align-items: center;
                                            ">
                                                <div>
                                                    <img style="height: 25px" src="../assets/logo's-04.png" />
                                                </div>
                                                <div style="
                                                    width: 95%;
                                                    align-self: start;
                                                    margin-top: 20px;
                                                    margin-bottom: 20px;
                                                    margin-left: auto;
                                                    margin-right: auto;
                                                    display: flex;
                                                    justify-content: space-between;
                                                    align-items: flex-start;
                                                    font-size: 10px;
                                                ">
                                                    <div>
                                                        <p style="margin: 0px">
                                                            {{ member.name }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ member.email }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ member.strno }},{{ member.city }},{{
                                                            member.current_country
                                                            }}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.title }}
                                                            {{ this.localData.firstname }}
                                                            {{ this.localData.lastname }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.email }}
                                                        </p>
                                                        <p style="margin: 0px">
                                                            {{ this.localData.current_country }}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p style="margin: 0px">
                                                            DFG&nbsp;Finanzprofi&nbsp;GmbH,
                                                        </p>
                                                        <p style="margin: 0px">Josefstraße&nbsp;22</p>
                                                        <p style="margin: 0px">36088&nbsp;Hünfeld</p>
                                                    </div>
                                                </div>

                                                <div style="text-transform: capitalize">
                                                    <h3 style="margin: 0px; font-size: 15px">
                                                        {{ tab.tabName }}
                                                    </h3>
                                                </div>
                                            </div>
                                            <!-- <div style="display:flex;flex:1;flex-direction:column;justify-content:space-between;"> -->




                                            <div style="min-height: 520px">
                                                <ng-container *ngFor="let viewquestiondata of tab.list; let i = index">
                                                    <div style="width: 95%; margin: auto">
                                                        <div style="margin-top: 20px">
                                                            <div *ngIf="viewquestiondata.questionname != ''"
                                                                style="font-size: 12px; font-weight: bold">
                                                                <!-- <span>Frage{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.questionname.replaceAll(
                                                                    "
                                                                    ",
                                                                    "&nbsp;"
                                                                    )
                                                                    }}</span> -->
                                                                <span>Frage{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.questionname
                                                                    }}</span>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="viewquestiondata.type == 'mcq'">
                                                            <div style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.selected_option
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="viewquestiondata.answerKey.input != ''"
                                                                style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.input
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="viewquestiondata.answerKey.textarea != ''"
                                                                style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.textarea
                                                                    }}</span>
                                                            </div>

                                                            <div *ngIf="viewquestiondata.answerKey.date != ''"
                                                                style="font-size: 12px">
                                                                <span>Datum :&nbsp;{{
                                                                    viewquestiondata.answerKey.date
                                                                    | date : "dd.MM.yyyy"
                                                                    }}</span>
                                                            </div>

                                                            <div style="
                                                                display: flex;
                                                                justify-content: flex-start;
                                                                align-items: center;
                                                                font-size: 12px;
                                                            ">
                                                                <div style="margin-right: 20px" *ngIf="
                                                                viewquestiondata.answerKey.from_date != ''
                                                                ">
                                                                    <span>Von :&nbsp;{{
                                                                        viewquestiondata.answerKey.from_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                                <div *ngIf="viewquestiondata.answerKey.to_date != ''">
                                                                    <span>Bis :&nbsp;{{
                                                                        viewquestiondata.answerKey.to_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                            </div>
                                                            <!-- class="row mt-2 result{{ i }}" -->
                                                            <ng-container *ngIf="
                                    viewquestiondata.answerKey.documents &&
                                    viewquestiondata.answerKey.documents.length > 0
                                  ">
                                                                <div style="
                                      width: 100%;
                                      display: flex;
                                      flex-direction: column;
                                      justify-content: center;
                                      align-items: flex-start;
                                    ">
                                                                    <ng-container *ngFor="
                                        let file of viewquestiondata.answerKey
                                          .documents
                                      ">
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') ==
                                            -1 &&
                                          file.document_unique_id.indexOf('.mp4') ==
                                            -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 15%; margin-right: 20px"
                                                                                src="{{
                                            API_URL
                                          }}document/downloaddocument/{{
                                            file.document_unique_id
                                          }}" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße:</b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp:</b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/pdf-icon.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.mp4') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/mp4.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>

                                                        <div *ngIf="viewquestiondata.type == 'input'">
                                                            <div *ngIf="
                                    viewquestiondata.option3 == 'Kurze Antwort'
                                  " style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.input
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="
                                    viewquestiondata.option3 == 'Lange Antwort'
                                  " style="font-size: 12px">
                                                                <span>Antworten{{ i + 1 }} :&nbsp;{{
                                                                    viewquestiondata.answerKey.textarea
                                                                    }}</span>
                                                            </div>
                                                            <div *ngIf="
                                    viewquestiondata.option5 == 'Ja' &&
                                    viewquestiondata.option6 == 'Single date'
                                  " style="font-size: 12px">
                                                                <span>Datum :&nbsp;{{
                                                                    viewquestiondata.answerKey.date
                                                                    | date : "dd.MM.yyyy"
                                                                    }}</span>
                                                            </div>
                                                            <div style="
                                    display: flex;
                                    justify-content: flex-start;
                                    align-items: center;
                                    font-size: 12px;
                                  ">
                                                                <div style="margin-right: 20px" *ngIf="
                                      viewquestiondata.option5 == 'Ja' &&
                                      viewquestiondata.option6 == 'Date range'
                                    ">
                                                                    <span>Von :&nbsp;{{
                                                                        viewquestiondata.answerKey.from_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                                <div *ngIf="
                                      viewquestiondata.option5 == 'Ja' &&
                                      viewquestiondata.option6 == 'Date range'
                                    ">
                                                                    <span>Bis :&nbsp;{{
                                                                        viewquestiondata.answerKey.to_date
                                                                        | date : "dd.MM.yyyy"
                                                                        }}</span>
                                                                </div>
                                                            </div>

                                                            <!-- <div class="row mt-2 result{{ i }}" id="resultt{{ i }}"> -->
                                                            <ng-container *ngIf="
                                    viewquestiondata.answerKey.documents &&
                                    viewquestiondata.answerKey.documents.length > 0
                                  ">
                                                                <div style="
                                      width: 100%;
                                      display: flex;
                                      flex-direction: column;
                                      justify-content: center;
                                      align-items: flex-start;
                                    ">
                                                                    <ng-container *ngFor="
                                        let file of viewquestiondata.answerKey
                                          .documents
                                      ">
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') ==
                                            -1 &&
                                          file.document_unique_id.indexOf('.mp4') ==
                                            -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 15%; margin-right: 20px"
                                                                                src="{{
                                            API_URL
                                          }}document/downloaddocument/{{
                                            file.document_unique_id
                                          }}" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße:</b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp:</b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.pdf') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/pdf-icon.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div style="
                                          width: 100%;
                                          margin-top: 20px;
                                          display: flex;
                                          align-items: center;
                                        " *ngIf="
                                          file.document_unique_id.indexOf('.mp4') !=
                                          -1
                                        ">
                                                                            <img class="imageThumb"
                                                                                style="width: 7%; margin-right: 20px"
                                                                                src="../assets/mp4.png" />
                                                                            <div style="font-size: 12px">
                                                                                <div>
                                                                                    <b> Dokumentname: </b>&nbsp;{{
                                                                                    file.file_name
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateigröße: </b>&nbsp;{{
                                                                                    file.tags.split(",")[0]
                                                                                    }}
                                                                                </div>
                                                                                <div>
                                                                                    <b>Dateityp: </b>&nbsp;{{
                                                                                    file.tags.split(",")[1]
                                                                                    }}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>





                                            <div style="width: 95%; margin: auto; margin-top: 20px;">
                                                <img class="showSignature"
                                                    style="width: 200px; border-bottom: 1px solid lightgray" />
                                                <p style="margin-top: 10px; font-size: 10px">
                                                    {{ this.localData.title }}&nbsp;{{
                                                    this.localData.firstname
                                                    }}&nbsp;{{ this.localData.lastname }}
                                                </p>
                                            </div>
                                            <!-- padding-top: 475px; -->
                                            <div id="pdfFooter" style="
                            width: 95%;
                            margin-top: 30px;
                            margin-left: auto;
                            margin-right: auto;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            font-size: 6px;
                            display: none;
                          ">
                                                <div>
                                                    <p class="m-0">DFG&nbsp;Finanzprofi&nbsp;GmbH</p>
                                                    <p class="m-0">www.cefima.de</p>
                                                    <p class="m-0">
                                                        Geschäftsführer&#x3A;&nbsp;Filippo&nbsp;Fioretto
                                                    </p>
                                                    <p class="m-0">
                                                        IHK Registrierungsnummer&#x3A;&nbsp;D-QPB7-VA29M-40
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">
                                                        Sitz&nbsp;der&nbsp;Gesellschaft&#x3A;&nbsp;Hünfeld
                                                    </p>
                                                    <p class="m-0">
                                                        Handelsregister&nbsp;Fulda&nbsp;HRB&nbsp;6902
                                                    </p>
                                                    <p class="m-0">Finanzamt&#x3A;&nbsp;Fulda</p>
                                                    <p class="m-0">
                                                        SteuerNr.&#x3A;&nbsp;18&nbsp;231&nbsp;02570
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">Anschrift&#x3A;</p>
                                                    <p class="m-0">Josefstraße&nbsp;22</p>
                                                    <p class="m-0">36088&nbsp;Hünfeld</p>
                                                    <p class="m-0">
                                                        Tel.&#x3A;&nbsp;+49&nbsp;6652/9824-690
                                                    </p>
                                                </div>
                                                <div>
                                                    <p class="m-0">Bankverbindung&#x3A;</p>
                                                    <p class="m-0">Solarisbank&nbsp;AG</p>
                                                    <p class="m-0">
                                                        IBAN&nbsp;DE94&nbsp;1101&nbsp;0100&nbsp;2084&nbsp;5971&nbsp;38
                                                    </p>
                                                    <p class="m-0">BIC&#x3A;&nbsp;SOBKDEBBXXX</p>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <!-- <div style="
                        width: 50%;
                        margin: auto;
                        text-align: right;
                        margin-top: 10px;
                      "> -->
                            <div style="width: 595px; margin: auto; text-align: right">
                                <button class="btn btn-info gradient text-white" mat-raised-button data-toggle="modal"
                                    data-target="#esignmodel" (click)="open_modal('esignmodel')">
                                    E-Signatur
                                </button>
                            </div>
                            <div class="row mt-3">
                                <hr />
                                <div class="d-flex justify-content-between align-items-center">
                                    <button class="btn btn-info gradient text-white" mat-raised-button
                                        matStepperPrevious>
                                        <i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;Zurück
                                    </button>
                                    <button class="btn btn-info gradient text-white" mat-raised-button
                                        (click)="generateQuestionPdf()" [disabled]="currentSignature === ''">
                                        Speichern
                                    </button>
                                </div>
                            </div>
                        </mat-step>
                    </mat-horizontal-stepper>
                    <!-- </div> -->
                </div>
            </div>
        </div>
    </div>
</div>
<button id="openpreviewmodel" type="button" data-toggle="modal" style="display: none"
    data-target="#exampleModalpreview">
    ddd
</button>
<div id="exampleModalpreview_parent">
    <div class="modal fade" id="exampleModalpreview" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalpreviewTitle" aria-hidden="true">
        <div style="max-width: 1000px; max-height: 800px" class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <span id="showpreviewtitle" style="font-size: 15px"></span>
                    <button type="button" class="close"
                        (click)="close_modal('exampleModalpreview','exampleModalpreview_parent')" data-dismiss="modal"
                        aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- <embed id="showpreviewpdf" type="application/pdf" style="width: 100%; height: 600px; display: none"  src="" /> -->
                    <img id="showpreviewimg" style="width: 100%; height: 100%; display: none" src="" />
                    <div class="col-md-12" style="text-align: end; margin-top: 5px">
                        <a id="showpreviewdownload" target="_blank" style="margin-right: -20px" class="button-primary "
                            download>
                            <!-- <i class="fa fa-download" aria-hidden="true" style="font-size:20px;"></i>  -->
                            <span class=""><i class="fa fa-download links2" style="
                        position: relative;
                        float: right;
                        padding: 7px 7px 0px 7px;
                        background: linear-gradient(#17459b, #02a9ed);" aria-hidden="true"></i></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="esignmodel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
    aria-hidden="true" style="z-index: 99999">
    <div style="max-width: 800px" class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <span class="mr-2"><img src="../assets/infoIcon.svg" /></span>
                    <p class="m-0">
                        Zum signieren halten Sie einfach den linken Mauscursor im weißen
                        Feld gedrückt und zeichnen so Ihre Unterschrift. Wenn Ihr Gerät
                        Touch fähig ist können Sie auch mit Ihrem Finger die Signatur
                        zeichnen.
                    </p>
                </div>
                <button type="button" class="close transitionanimation" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div style="border: 1px solid" id="signdiv">
                    <div style="
              float: right;
              padding: 8px 22px 0px 0px;
              position: absolute;
              /* text-align: right; */
              right: 0;
            ">
                        <a (click)="clear()" class="btn btn-primary deleteicon" style="
                background: linear-gradient(#17459b, #02a9ed);
                border-radius: 42px;
                width: 50px;
                height: 50px;
                border: transparent;
              ">
                            <mat-icon style="margin: 5px 1px">delete_forever</mat-icon>
                        </a>
                    </div>

                    <canvas #canvas width="750" height="300" (onBeginEvent)="drawStart1()"
                        (onEndEvent)="drawComplete1()" (mouseleave)="drawComplete1()"></canvas>
                    <!-- <signature-pad [options]="signaturePadOptions" id="signatureCanvasnew" (onBeginEvent)="drawStart1()"
                        (onEndEvent)="drawComplete1()"></signature-pad> -->

                    <div class="col-md-12" (click)="drawComplete1()" data-dismiss="modal"
                        aria-label="Close transitionanimation" style="
              display: block;
              background: linear-gradient(#17459b, #02a9ed);
              height: 50px;
              text-align: center;
              border: transparent;
              color: white;
              font-size: 25px;
              line-height: 49px;
              cursor: pointer;
            ">
                        Jetzt Unterschreiben
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- <mat-accordion class="back-accounding">
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Self aware panel
            </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
        </mat-expansion-panel-header>


        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Self aware panel
                    </mat-panel-title>
                    <mat-panel-description>
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <p>Test</p>
            </mat-expansion-panel>
        </mat-accordion>


    </mat-expansion-panel>
</mat-accordion> -->